"use strict";function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}!function(){angular.module("webcat",["webcat.components","ngMaterial"])}(),angular.module("webcat").run(["$templateCache",function(e){e.put("webcat/components/menu/item/item-menu.html",'<md-menu-item><md-button ng-click="$ctrl.onClick({$event:$event})"><div layout="row" flex="flex"><p ng-transclude="" flex="flex"></p><md-icon md-menu-align-target="md-menu-align-target" style="margin: auto 3px auto 0;">{{$ctrl.wcIcon}}</md-icon></div></md-button></md-menu-item>')}]),angular.module("webcat").run(["$templateCache",function(e){e.put("webcat/components/dialog/progress/progress-dialog.html",'<div class="md-dialog-content"><div class="md-title">{{$ctrl.bindings.title}}</div><div class="md-body-1">{{$ctrl.bindings.body}}</div></div><wc-progress wc-progress-type="linear" wc-progress-percentage="{{$ctrl.bindings.progress}}"></wc-progress><div class="md-dialog-actions"><div flex="flex"></div><md-button ng-click="$ctrl.$catch()">{{$cancelLabel||\'Cancel\'}}</md-button></div>')}]),angular.module("webcat").run(["$templateCache",function(e){e.put("webcat/components/dialog/login/login-dialog.html",'<div class="md-dialog-content"><div class="md-title">{{$ctrl.$title}}</div><div class="md-body-1">{{$ctrl.$body}}</div><div ng-repeat="provider in $ctrl.$providers"><md-button ng-if="provider!==\'email\'" ng-class="provider" ng-click="$ctrl.$then(provider)" class="md-raised">{{provider}}</md-button><form layout="column" name="loginForm" ng-init="$ctrl.credentials={}" ng-if="provider===\'email\'" class="email-form"><md-input-container><label>{{$ctrl.$emailLabel?$ctrl.$emailLabel:\'Email\'}}</label><input name="email" ng-model="$ctrl.credentials.email" type="email" required="required"/></md-input-container><md-input-container><label>{{$ctrl.$passwordLabel?$ctrl.$passwordLabel:\'Password\'}}</label><input name="password" ng-model="$ctrl.credentials.password" type="password" required="required"/></md-input-container></form></div></div><div layout="row" class="md-dialog-actions"><div flex="flex"></div><md-button ng-click="$ctrl.$catch()">{{$ctrl.$cancelLabel?$ctrl.$cancelLabel:\'cancel\'}}</md-button><md-button ng-disabled="loginForm.$valid" ng-class="provider" ng-click="$ctrl.$then(\'email\', $ctrl.credentials)" class="md-raised">Login</md-button></div>')}]),angular.module("webcat").run(["$templateCache",function(e){e.put("webcat/components/upload/upload.html",'<input type="file" ngf-select="$ctrl.$then($file)" ngf-multiple="$ctrl.wcUploadMultiple" accept="image/*" ngf-resize="$ctrl.dimensions" class="hidden-input"/><div ng-transclude="then" ng-if="$ctrl.$ready"> </div>')}]),angular.module("webcat").run(["$templateCache",function(e){e.put("webcat/components/toggle/toggle.html",'<md-button ng-disabled="key===$ctrl.wcToggleSelected" ng-repeat="(key, item) in $ctrl.wcToggleItems" ng-click="$ctrl.changeItem(key)">{{item}}</md-button>')}]),angular.module("webcat").run(["$templateCache",function(e){e.put("webcat/components/text/text.html",'<p medium-editor="medium-editor" ng-if="$ctrl.show" bind-options="$ctrl.settings" data-placeholder="{{$ctrl.wcPlaceholder}}" ng-model="$ctrl.wcData" ng-blur="$ctrl.then({$data:$ctrl.wcData})" ng-href="{{$ctrl.wcHref}}"></p>')}]),angular.module("webcat").run(["$templateCache",function(e){e.put("webcat/components/rating/rating.html",'<div layout="row"><div style="outline:none" ng-click="$ctrl.$then($index)" ng-repeat="star in $ctrl.$stars track by $index"><full ng-if="star === \'full\'" ng-transclude="full"></full><half ng-if="star === \'half\'" ng-transclude="half"></half><empty ng-if="star === \'empty\'" ng-transclude="empty"></empty></div><catch ng-if="!$ctrl.$stars.length" ng-transclude="catch"></catch></div>')}]),angular.module("webcat").run(["$templateCache",function(e){e.put("webcat/components/progress/progress.html",'<md-progress-circular ng-if="$ctrl.$percentage &amp;&amp; $ctrl.$type === \'circular\'" md-mode="determinate" value="{{$ctrl.$percentage}}"></md-progress-circular><md-progress-circular ng-if="!$ctrl.$percentage &amp;&amp; $ctrl.$type === \'circular\'" md-mode="indeterminate"></md-progress-circular><md-progress-linear ng-if="$ctrl.$percentage &amp;&amp; $ctrl.$type === \'linear\'" md-mode="determinate" value="{{$ctrl.$percentage}}"></md-progress-linear><md-progress-linear ng-if="!$ctrl.$percentage &amp;&amp; $ctrl.$type === \'linear\'" md-mode="indeterminate"></md-progress-linear>')}]),angular.module("webcat").run(["$templateCache",function(e){e.put("webcat/components/panel/panel.html",'<then ng-if="$ctrl.$ready" ng-transclude="then"></then><catch ng-if="$ctrl.$error" ng-transclude="catch"></catch><after ng-if="$ctrl.$after" ng-transclude="after"></after><div id="webcatPanelTemplate" ng-if="!$ctrl.$closed" ng-show="$ctrl.$domAdded" class="webcat-panel-container"><div ng-transclude="wcPanelTemplate"></div></div>')}]),angular.module("webcat").run(["$templateCache",function(e){e.put("webcat/components/menu/menu.html",'<div ng-style="{marginTop: $ctrl.wcMarginTop}" ng-class="\'{{$ctrl.wcAlign}}\'" class="settingsWrapper"><md-menu md-position-mode="target-{{$ctrl.wcAlign||\'right\'}} target" ng-class="\'position-{{$ctrl.wcPosition}}\'"><md-button ng-click="$mdOpenMenu(ev)" class="md-icon-button toolbar-button"><md-icon md-menu-origin="md-menu-origin" class="wcSettingsOrigin">{{$ctrl.wcIcon||\'settings\'}}</md-icon></md-button><md-menu-content width="{{$ctrl.wcWidth || 3}}"><div ng-transclude="ng-transclude"></div></md-menu-content></md-menu></div>')}]),angular.module("webcat").run(["$templateCache",function(e){e.put("webcat/components/identicon/identicon.html",'<canvas id="webcat-identicon-canvas" style="display:none" width="200" height="200" data-jdenticon-hash="{{$ctrl.$hash}}">Fallback text for browsers not supporting canvas</canvas>')}]),angular.module("webcat").run(["$templateCache",function(e){e.put("webcat/components/dialog/dialog.html",'<then ng-if="$ctrl.$ready" ng-transclude="then"></then><catch ng-if="$ctrl.$error" ng-transclude="catch"></catch><after ng-if="$ctrl.$after" ng-transclude="after"></after><div id="webcatDialogTemplate" ng-if="$ctrl.$template" class="md-dialog-container"><md-dialog><div style="display:flex;position:relative" ng-transclude="wcDialogTemplate"></div></md-dialog></div>')}]),angular.module("webcat").run(["$templateCache",function(e){e.put("util/components/switch/switch.html",'<before ng-if="$ctrl.$before" ng-transclude="before"></before><then ng-if="$ctrl.$ready" ng-transclude="then"></then><catch ng-if="$ctrl.$error" ng-transclude="catch"></catch>')}]),angular.module("webcat").run(["$templateCache",function(e){e.put("test/webcat/upload/upload.test.html",'<div class="md-display-1">wc-upload</div><p>{{$ctrl.test1}}</p><md-button class="md-icon-button"><wc-upload wc-upload-dimensions="{width:1920,height:1080}" then="$ctrl.$file = $data" catch="$errorMessage = $error"><catch><md-toast md-toast-message="$errorMessage"></md-toast></catch></wc-upload><md-icon>add_a_photo</md-icon></md-button>')}]),angular.module("webcat").run(["$templateCache",function(e){e.put("test/webcat/toggle/toggle.test.html",'<div class="md-display-1">wc-toggle</div><fd-ref fd-ref-path="webcat/toggle" fd-ref-query="$ctrl.$query" then="$ctrl.$data = $data"><before>LOADING</before><then>SUCCESS</then><catch>ERROR</catch></fd-ref><wc-toggle wc-toggle-items="$ctrl.$data"></wc-toggle>')}]),angular.module("webcat").run(["$templateCache",function(e){e.put("test/webcat/rating/rating.test.html",'<div class="md-display-1">wc-rating</div><div class="md-headline">3.2</div><md-button ng-click="$totalScore1 = 3.2">Add rating</md-button><wc-rating wc-total-score="$totalScore1" wc-user-score="$userScore1" then="$userScore = $data"><empty><i class="material-icons">star_border</i></empty><half><i class="material-icons">star_half</i></half><full><i class="material-icons">star</i></full><catch><p>NO RATING</p></catch></wc-rating><div class="md-headline">3.5</div><md-button ng-click="$totalScore2 = 3.5">Add rating</md-button><wc-rating wc-total-score="$totalScore2" wc-user-score="$userScore2" then="$userScore2 = $data"><empty><i class="material-icons">star_border</i></empty><half><i class="material-icons">star_half</i></half><full><i class="material-icons">star</i></full><catch><p>NO RATING</p></catch></wc-rating><div class="md-headline">3.8</div><md-button ng-click="$totalScore3 = 3.8">Add rating</md-button><wc-rating wc-total-score="$totalScore3" wc-user-score="$userScore3" then="$userScore3 = $data"><empty><i class="material-icons">star_border</i></empty><half><i class="material-icons">star_half</i></half><full><i class="material-icons">star</i></full><catch><p>NO RATING</p></catch></wc-rating>')}]),angular.module("webcat").run(["$templateCache",function(e){e.put("test/webcat/progress/progress.test.html",'<div class="md-display-1">wc-progress</div><wc-progress wc-progress-type="linear" wc-progress-percentage="50"></wc-progress>')}]),angular.module("webcat").run(["$templateCache",function(e){e.put("test/webcat/panel/panel.test.html",'<div class="md-display-1">wc-panel</div><div class="md-headline">Custom</div><md-button ng-mouseenter="$ctrl.openPanel=true" ng-click="$ctrl.openPanel = true" class="trigger">Trigger Panel</md-button><wc-panel ng-if="$ctrl.openPanel" wc-panel-modal="false" wc-panel-trigger=".trigger" wc-panel-backdrop="true" wc-panel-align="start start" wc-panel-animation="fade" catch="$ctrl.openPanel = false"><wc-panel-template><div ng-mouseleave="$ctrl.openPanel=false" class="md-whiteframe-2dp padding"><p>PLOP plop</p><p>PLOP plop</p><p>PLOP plop</p><p>PLOP plop</p></div></wc-panel-template></wc-panel>')}]),angular.module("webcat").run(["$templateCache",function(e){e.put("test/webcat/identicon/identicon.test.html",'<div class="md-display-1">wc-identicon</div><fd-auth then="$ctrl.$auth = $data"><before></before><then></then><catch></catch></fd-auth><wc-identicon wc-identicon-hash="dan@precompro.com" then="$img=$data"></wc-identicon><p>{{$img}}</p><img ng-src="{{$img}}"/>')}]),angular.module("webcat").run(["$templateCache",function(e){e.put("test/webcat/dialog/dialog.test.html",'<div class="md-display-1">wc-dialog</div><div class="md-headline">Alert</div><md-button ng-click="$ctrl.$alert=true">Open Dialog</md-button><wc-dialog ng-if="$ctrl.$alert" wc-dialog-confirm="true" wc-dialog-labels="{title:\'Alert\'}" then="$ctrl.$alert=false"><catch>ERROR</catch></wc-dialog><div class="md-headline">Progress</div><md-button ng-click="$ctrl.$progress=true">Open Dialog</md-button><wc-dialog ng-if="$ctrl.$progress" wc-dialog-progress="30" wc-dialog-labels="{title:\'Progress\'}"> </wc-dialog><div class="md-headline">Login</div><md-button ng-click="$ctrl.$login=true">Open Dialog</md-button><wc-dialog ng-if="$ctrl.$login" wc-dialog-login="email facebook" wc-dialog-labels="{title:\'Login\'}" then="$ctrl.$loginData=$data"><then><fd-login fd-login-provider="{{$ctrl.$loginData.provider}}" fd-login-popup="$mdMedia(\'gt-md\')" fd-login-redirect="!$mdMedia(\'gt-md\')" fd-login-credentials="$ctrl.$loginData.credentials" then="" catch=""><before></before><then><p>LOGIN SUCCESS</p></then><catch><p>LOGIN ERROR</p></catch></fd-login></then></wc-dialog><div class="md-headline">Template</div><md-button ng-click="$ctrl.$template=true">Open Dialog</md-button><wc-dialog wc-dialog-template="true" ng-if="$ctrl.$template"><wc-dialog-template><h1>This text is templated lolz</h1><md-button ng-click="$ctrl.$template=false">close</md-button></wc-dialog-template></wc-dialog><div class="md-headline">Dialog-Dispatcher</div><md-button ng-click="$ctrl.DIALOG.DISPATCHER=true">Open Dialog</md-button><p>{{$ctrl.data}}</p><wc-dialog ng-if="$ctrl.DIALOG.DISPATCHER" wc-dialog-prompt="true" wc-dialog-labels="{\n    title: \'DATA\',\n    body: \'Â¿Plop is it life?\'\n  }" then="$ctrl.data=$data"><then><fd-dispatcher fd-dispatcher-action="{\n        type: \'DIALOG.DISPATCHER\',\n        data: $ctrl.data\n      }" then="$ctrl.DIALOG.DISPATCHER=false;$ctrl.$isPloplLife()"></fd-dispatcher></then></wc-dialog>')}]),angular.module("webcat").run(["$templateCache",function(e){e.put("test/firedux/user/user.test.html",'<div class="md-display-1">fd-user</div><fd-user then="$user = $data"><before><p>LOADING</p></before><then><p>SUCCESS: {{$user}}</p></then><catch><p>ERROR</p></catch></fd-user>')}]),angular.module("webcat").run(["$templateCache",function(e){e.put("test/firedux/set/set.test.html",'<div class="md-display-1">fd-set</div><fd-set fd-set-path="api/search/plap/request" fd-set-data="\'te\'" fd-set-presence="true" catch="$ctrl.$error=$error"><before><p>LOADING</p></before><then><p>SUCCESS</p></then><catch><p>ERROR {{$ctrl.$error}}</p></catch></fd-set>')}]),angular.module("webcat").run(["$templateCache",function(e){e.put("test/firedux/ref/ref.test.html",'<div class="md-display-1">fd-ref</div><div class="md-headline">Text, Object, Number</div><fd-ref fd-ref-path="firedux/ref/test1" then="$test1=$data"><before>LOADING</before><then>SUCCESS</then><catch>ERROR</catch></fd-ref><p>{{$test1}}</p><div class="md-headline">Array</div><fd-ref fd-ref-path="firedux/ref/test2" fd-ref-array="fd-ref-array" then="$test2=$data"><before>LOADING</before><then>SUCCESS</then><catch>ERROR</catch></fd-ref><p>{{$test2}}</p>')}]),angular.module("webcat").run(["$templateCache",function(e){e.put("test/firedux/env/env.html",'<div class="md-display-1">fd-env</div><div class="md-headline">Text, Object, Number</div><fd-env fd-env-constant="test1" then="$test1=$data"><before>LOADING</before><then>SUCCESS</then><catch>ERROR</catch></fd-env><p>{{$test1}}</p><div class="md-headline">Array</div><fd-env fd-env-constant="test2" fd-env-array="true" then="$test2=$data"><before>LOADING</before><then>SUCCESS</then><catch>ERROR</catch></fd-env><p>{{$test2}}</p>')}]),angular.module("webcat").run(["$templateCache",function(e){e.put("test/firedux/api/api.test.html",'<div class="md-display-1">fd-api</div><md-button ng-click="$ctrl.$test=\'tet\'">tet</md-button><md-button ng-click="$ctrl.$test=\'te\'">te</md-button><fd-api fd-api-endpoint="search" fd-api-request="$ctrl.$test" fd-api-array="true" then="$ctrl.$data = $data"><before><p>LOADING</p></before><then><p>SUCCESS = {{$ctrl.$data}}</p></then><catch><p>ERROR</p></catch></fd-api>')}]),angular.module("webcat").run(["$templateCache",function(e){e.put("firedux/components/value/value.html","")}]),angular.module("webcat").run(["$templateCache",function(e){e.put("firedux/components/user/user.html",'<fd-auth then="$ctrl.$auth = $data" catch="$ctrl.$catch($error)"><before ng-transclude="before"></before><then><fd-ref fd-ref-path="users/{{$ctrl.$auth.uid}}" then="$ctrl.$then($data)" catch="$ctrl.$catch($error)"><before ng-transclude="before"></before><then ng-transclude="then"></then><catch ng-transclude="catch"></catch></fd-ref></then><catch ng-transclude="catch"></catch></fd-auth>')}]),angular.module("webcat").run(["$templateCache",function(e){e.put("firedux/components/timeout/timeout.html",'<before ng-if="$ctrl.$before" ng-transclude="before"></before><then ng-if="$ctrl.$ready" ng-transclude="then"></then><catch ng-if="$ctrl.$error" ng-transclude="catch"></catch>')}]),angular.module("webcat").run(["$templateCache",function(e){e.put("firedux/components/upload/upload.html",'<before ng-if="$ctrl.$before" ng-transclude="before"></before><then ng-if="$ctrl.$then" ng-transclude="then"></then><catch ng-if="$ctrl.$catch" ng-transclude="catch"></catch>')}]),angular.module("webcat").run(["$templateCache",function(e){e.put("firedux/components/set/set.html",'<before ng-if="$ctrl.$loading" ng-transclude="before"></before><then ng-if="$ctrl.$ready" ng-transclude="then"></then><catch ng-if="$ctrl.$error" ng-transclude="catch"></catch>')}]),angular.module("webcat").run(["$templateCache",function(e){e.put("firedux/components/ref/ref.html",'<before ng-if="$ctrl.$before" ng-transclude="before"></before><then ng-if="$ctrl.$ready" ng-transclude="then"></then><catch ng-if="$ctrl.$error" ng-transclude="catch"></catch>')}]),angular.module("webcat").run(["$templateCache",function(e){e.put("firedux/components/login/_login.html",'<before ng-if="$ctrl.$before" ng-transclude="before"></before><then ng-if="$ctrl.$ready" ng-transclude="then"></then><catch ng-if="$ctrl.$error" ng-transclude="catch"></catch>')}]),angular.module("webcat").run(["$templateCache",function(e){e.put("firedux/components/link/link.html",'<before ng-if="$ctrl.$before" ng-transclude="before"></before><then ng-if="$ctrl.$ready" ng-transclude="then"></then><catch ng-if="$ctrl.$error" ng-transclude="catch"></catch>')}]),angular.module("webcat").run(["$templateCache",function(e){e.put("firedux/components/img-resize/img-resize.html",'<then ng-if="$ctrl.$ready" ng-transclude="then"></then><catch ng-if="$ctrl.$error" ng-transclude="catch"></catch>')}]),angular.module("webcat").run(["$templateCache",function(e){e.put("firedux/components/dispatcher/dispatcher.html",'<div ng-if="$ctrl.$class" ng-class="$ctrl.$class" ng-click="$ctrl.$run()"></div><before ng-if="$ctrl.$before" ng-transclude="before"></before><then ng-if="$ctrl.$ready" ng-transclude="then"></then><catch ng-if="$ctrl.$error" ng-transclude="catch"><wc-toast wc-toast-message="{{$ctrl.$error}}"></wc-toast></catch>')}]),angular.module("webcat").run(["$templateCache",function(e){e.put("firedux/components/auth/auth.html",'<before ng-if="$ctrl.$before" ng-transclude="before"></before><then ng-if="$ctrl.$ready" ng-transclude="then"></then><catch ng-if="$ctrl.$error" ng-transclude="catch"></catch>')}]),angular.module("webcat").run(["$templateCache",function(e){e.put("firedux/components/api/api.html",'<fd-set ng-if="$ctrl.$path" fd-set-path="{{$ctrl.$path}}" fd-set-data="$ctrl.$request" fd-set-presence="true" catch="$ctrl.$catch($error)"><then><fd-timeout fd-timeout-time="100"><then><fd-ref fd-ref-path="{{$ctrl.$path}}/response" fd-ref-array="$ctrl.$isArray" then="$ctrl.$then($data)" catch="$ctrl.$catch($error)"></fd-ref></then></fd-timeout></then></fd-set><before ng-if="$ctrl.$before" ng-transclude="before"></before><then ng-if="$ctrl.$ready" ng-transclude="then"></then><catch ng-if="$ctrl.$error" ng-transclude="catch"></catch>')}]),angular.module("webcat").run(["$templateCache",function(e){e.put("test/webcat/_webcat.html","<!--test-webcat-dialog--><!--test-webcat-identicon--><test-webcat-panel></test-webcat-panel><!--test-webcat-progress--><!--test-webcat-rating--><!--test-webcat-toggle--><!--test-webcat-upload-->")}]),angular.module("webcat").run(["$templateCache",function(e){e.put("test/firedux/_firedux.html","<!--test-firedux-api--><!--test-firedux-api--><!--test-firedux-ref--><!--test-firedux-env--><!--test-firedux-user-->")}]),angular.module("webcat").run(["$templateCache",function(e){e.put("test/_test-comp.html","<test-firedux></test-firedux><test-webcat></test-webcat>")}]),function(){angular.module("webcat.wcMenu",[]).component("wcMenu",{templateUrl:"webcat/components/menu/menu.html",transclude:!0,bindings:{wcWidth:"@",wcIcon:"@",wcPosition:"@",wcMarginTop:"@",wcAlign:"@"}})}(),function(){angular.module("webcat.wcMenu").component("wcMenuItem",{templateUrl:"webcat/components/menu/item/item-menu.html",transclude:!0,bindings:{wcIcon:"@",wcText:"@",onClick:"&"}})}();var _createClass=function(){function e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}();!function(){var e=function(){function e(){_classCallCheck(this,e)}return _createClass(e,[{key:"$catch",value:function(){this.bindings["catch"]()}}]),e}();angular.module("webcat.wcDialog.progress",[]).component("wcDialogProgress",{controller:e,templateUrl:"webcat/components/dialog/progress/progress-dialog.html",bindings:{bindings:"<"}})}();var _createClass=function(){function e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}();!function(){var e=function(){function e(){_classCallCheck(this,e)}return _createClass(e,[{key:"$onInit",value:function(){angular.isString(this.bindings.login)&&(this.$providers=this.bindings.login.split(" "),this.$title=this.bindings.title,this.$body=this.bindings.body,this.$cancel=this.bindings.cancel)}},{key:"$then",value:function(e,t){this.bindings.then({provider:e,credentials:t})}},{key:"$catch",value:function(){this.bindings["catch"]()}}]),e}();angular.module("webcat.wcDialog.login",[]).component("wcDialogLogin",{controller:e,templateUrl:"webcat/components/dialog/login/login-dialog.html",bindings:{bindings:"<"}})}(),function(){var e=function t(){_classCallCheck(this,t),this.parentCtrl.current&&this.item===this.parentCtrl.current?this.display=!0:this.display=!1};angular.module("util.fdUtilSwitch.item",[]).directive("fdUtilSwitchItem",{controller:e,controllerAs:"$ctrl",templateUrl:"util/component/switch/switch.html",transclude:!0,require:"^?fdSwitch",scope:{item:"@"},link:function(e,t,n,a){e.parentCtrl=a[0]}})}();var _createClass=function(){function e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}();!function(){var e=function(){function e(){_classCallCheck(this,e)}return _createClass(e,[{key:"$then",value:function(e){this.$ready=!0,this.then({$file:e})}}]),e}();angular.module("webcat.wcUpload",["ngFileUpload"]).component("wcUpload",{controller:e,templateUrl:"webcat/components/upload/upload.html",transclude:{then:"?then"},bindings:{wcUploadMultiple:"<",wcUploadDimensions:"<",then:"&"}})}();var _createClass=function(){function e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}();!function(){var e=function(){function e(t){_classCallCheck(this,e),this.$stateParams=t}return e.$inject=["$stateParams"],_createClass(e,[{key:"$onChanges",value:function(){this.then({$data:this.$stateParams})}}]),e}();angular.module("webcat.wcUiParams",[]).component("wcUiParams",{controller:e,bindings:{then:"&"}})}();var _createClass=function(){function e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}();!function(){var e=function(){function e(t,n,a){_classCallCheck(this,e),this.$state=t,this.$firedux=n,this.$window=a}return e.$inject=["$state","$firedux","$window"],_createClass(e,[{key:"$onChanges",value:function(e){this.wcUiRedirectBack?this.$window.history.back():e.wcUiRedirectSref||e.wcUiRedirectParams?this.redirect(this.wcUiRedirectSref,this.wcUiRedirectParams,this.wcUiReload):e.wcUiReload&&this.$state.reload()}},{key:"redirect",value:function(e,t){angular.isString(e)&&this.$state.go(e,t,{location:this.wcUiReplace?"replace":this.getLocation(),reload:!!this.wcUiReload})}},{key:"getLocation",value:function(){return!!angular.isUndefined(this.wcUiLocation)||this.wcUiLocation}}]),e}();angular.module("webcat.wcUiRedirect",[]).component("wcUiRedirect",{controller:e,bindings:{wcUiRedirectBack:"@",wcUiRedirectSref:"@",wcUiRedirectParams:"<",wcUiLocation:"<",wcUiReplace:"@",wcUiReload:"@"}})}();var _createClass=function(){function e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}();!function(){var e=function(){function e(){_classCallCheck(this,e)}return _createClass(e,[{key:"changeItem",value:function(e){this.wcToggleSelected=e,this.then({$index:e,$data:this.wcToggleItems[e]})}}]),e}();angular.module("webcat.wcToggle",[]).component("wcToggle",{controller:e,templateUrl:"webcat/components/toggle/toggle.html",bindings:{wcToggleSelected:"<",wcToggleItems:"<",then:"&"}})}();var _createClass=function(){function e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}();!function(){var e=function(){function e(t){_classCallCheck(this,e),this.$mdToast=t}return e.$inject=["$mdToast"],_createClass(e,[{key:"$onChanges",value:function(e){e.wcToastMessage&&this.showToast(this.wcToastMessage)}},{key:"showToast",value:function(e){angular.isString(e)&&this.$mdToast.show(this.$mdToast.simple({textContent:e,position:"top right"}))}}]),e}();angular.module("webcat.wcToast",[]).component("wcToast",{controller:e,bindings:{wcToastMessage:"@"}})}();var _createClass=function(){function e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}();!function(){var e=function(){function e(t,n){_classCallCheck(this,e),this.$element=n,this.$timeout=t}return e.$inject=["$timeout","$element"],_createClass(e,[{key:"$onChanges",value:function(){var e=this;this.wcRich&&console.warn("wcRich is being deprecated!"),this.show=!1,this.wcDisabled=!!this.wcDisabled,this.settings={targetBlank:!0,toolbar:!this.wcDisabled&&{buttons:this.buildButtons(this.wcControls)},disableEditing:this.wcDisabled},this.settings.disableReturn=!!this.wcInline,this.$timeout(function(){e.show=!0})}},{key:"buildButtons",value:function(){var e=arguments.length<=0||void 0===arguments[0]?"":arguments[0],t={b:"bold",i:"italic",anchor:"anchor",h2:"h2",h3:"h3"},n=[];return angular.forEach(t,function(t,a){e.indexOf(a)>=0&&n.push(t)}),n}}]),e}();angular.module("webcat.wcText",["angular-medium-editor"]).component("wcText",{controller:e,templateUrl:"webcat/components/text/text.html",bindings:{wcData:"<",wcControls:"@",wcInline:"<",wcRich:"@",wcPlaceholder:"@",wcDisabled:"<",wcHref:"@",then:"&"}})}();var _createClass=function(){function e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}();!function(){var e=function(){function e(){_classCallCheck(this,e)}return _createClass(e,[{key:"$onChanges",value:function(e){this.wcMaxScore=5,(e.wcTotalScore||e.wcUserScore)&&(this.$stars=this.getStarsArray(this.wcUserScore||this.wcTotalScore))}},{key:"$then",value:function(e){this.then({$data:e+1})}},{key:"getStarsArray",value:function(e){var t=[];if(angular.isNumber(e)){var n=Math.floor(e),a=e-n,i=void 0;i=0===a&&n===this.wcMaxScore?null:a<.25?"empty":a>.25&&a<.75?"half":"full";for(var r=0;r<n;r++)t[r]="full";for(var c=n;c<this.wcMaxScore;c++)t[c]="empty";t[n]=i}return t}}]),e}();angular.module("webcat.wcRating",[]).component("wcRating",{controller:e,templateUrl:"webcat/components/rating/rating.html",transclude:{full:"?full",half:"?half",empty:"?empty","catch":"?catch"},bindings:{wcTotalScore:"<",wcUserScore:"<",wcMaxScore:"@",then:"&"}})}();var _createClass=function(){function e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}();!function(){var e=function(){function e(t){_classCallCheck(this,e),this.$firedux=t}return e.$inject=["$firedux"],_createClass(e,[{key:"$onChanges",value:function(e){if(this.$percentage=this.$type=void 0,e.wcProgressPercentage&&(this.$percentage=this.wcProgressPercentage),e.wcProgressType)switch(this.wcProgressType){case"circular":this.$type="circular";break;case"linear":this.$type="linear";break;default:this.$type="linear"}}}]),e}();angular.module("webcat.wcProgress",[]).component("wcProgress",{controller:e,templateUrl:"webcat/components/progress/progress.html",bindings:{wcProgressType:"@",wcProgressPercentage:"@"}})}();var _createClass=function(){function e(e,t){for(var n=0;n<t.length;n++){
var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}();!function(){var e=function(){function e(t,n,a){_classCallCheck(this,e),this.$mdPanel=t,this.$firedux=a,this.$document=n}return e.$inject=["$mdPanel","$document","$firedux"],_createClass(e,[{key:"$onInit",value:function(){var e=this;this.$firedux.$timeout(function(){var t=e.getPosition(),n=e.getAnimation();e.openPanel(t,n)},100)}},{key:"parseAlign",value:function(){var e=(this.wcPanelAlign||"").split(" ");return{x:e[0],y:e[1]}}},{key:"getPosition",value:function(){var e=this.$mdPanel.newPanelPosition();return this.wcPanelTrigger?(e=e.relativeTo(this.wcPanelTrigger),e=this.getRelativeAlignment(e)):(e=e.absolute(),e=this.getAbsoluteAlignment(e)),e}},{key:"getAnimation",value:function(){var e=this.$mdPanel.newPanelAnimation();if(e=e.openFrom(this.wcPanelTrigger||"body"),this.wcPanelTrigger)switch(this.wcPanelAnimation){case"scale":e=e.withAnimation(this.$mdPanel.animation.SCALE);break;case"fade":e=e.withAnimation(this.$mdPanel.animation.FADE);break;case"slide":e=e.withAnimation(this.$mdPanel.animation.SLIDE)}else e=e.withAnimation(this.$mdPanel.animation.FADE);return e=angular.isNumber(this.wcPanelDuration)?e.duration(this.wcPanelDuration):e.duration(0),e=e.closeTo(this.wcPanelTrigger||"body")}},{key:"getRelativeAlignment",value:function(e){var t=this.parseAlign().x,n=void 0,a=this.parseAlign().y,i=void 0,r=e;switch(t){case"before":n=this.$mdPanel.xPosition.OFFSET_START;break;case"start":n=this.$mdPanel.xPosition.ALIGN_START;break;case"center":n=this.$mdPanel.xPosition.CENTER;break;case"end":n=this.$mdPanel.xPosition.ALIGN_END;break;case"after":n=this.$mdPanel.xPosition.OFFSET_END;break;default:n=this.$mdPanel.xPosition.CENTER}switch(a){case"before":i=this.$mdPanel.yPosition.ABOVE;break;case"start":i=this.$mdPanel.yPosition.ALIGN_TOPS;break;case"center":i=this.$mdPanel.yPosition.CENTER;break;case"end":i=this.$mdPanel.yPosition.ALIGN_BOTTOMS;break;case"after":i=this.$mdPanel.yPosition.BELOW}return r=r.addPanelPosition(n,i)}},{key:"getAbsoluteAlignment",value:function(e){var t=this.parseAlign().x,n=this.parseAlign().y,a=e;switch(t){case"start":a=a.start();break;case"center":a=a.centerHorizontally();break;case"end":a=a.end();break;default:a=a.centerHorizontally()}switch(n){case"start":a=a.top();break;case"center":a=a.centerVertically();break;case"end":a=a.bottom();break;default:a=a.centerVertically()}return a}},{key:"openPanel",value:function(e,t){var n=this,a={parent:angular.element(this.$document[0].body),contentElement:"#webcatPanelTemplate",propagateContainerEvents:!this.wcPanelBackdrop&&!this.wcPanelModal,clickOutsideToClose:!!this.wcPanelBackdrop&&!this.wcPanelModal,escapeToClose:!this.wcPanelModal,trapFocus:!!this.wcPanelModal,hasBackdrop:!!this.wcPanelBackdrop,disableParentScroll:!!this.wcPanelScroll,position:e,animation:t,onDomAdded:function(){n.$domAdded=!0,n.$firedux.$apply()},onCloseSuccess:function(){n.$closed=!0,n.$firedux.$apply(),n["catch"]()}};this.$firedux.$timeout(function(){n.panel=n.$mdPanel.create(a),n.panel.open()})}},{key:"$onDestroy",value:function(){var e=this;if(this.panel&&this.panel.hide)return this.panel.hide().then(function(){return e.panel.destroy()})}}]),e}();angular.module("webcat.wcPanel",[]).component("wcPanel",{controller:e,templateUrl:"webcat/components/panel/panel.html",transclude:{wcPanelTemplate:"?wcPanelTemplate"},bindings:{wcPanelTrigger:"@",wcPanelAlign:"@",wcPanelAnimation:"@",wcPanelDuration:"<",wcPanelModal:"<",wcPanelBackdrop:"<","catch":"&"}})}();var _createClass=function(){function e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}();!function(){var e=function(){function e(t,n,a,i){_classCallCheck(this,e),this.$window=t,this.$firedux=n,this.$document=a,this.md5=i}return e.$inject=["$window","$firedux","$document","md5"],_createClass(e,[{key:"$onChanges",value:function(){var e=this,t=void 0;this.$hash=this.md5.createHash(this.wcIdenticonEmail||null),this.$firedux.$apply(),this.$firedux.$timeout(function(){e.$window.jdenticon(),t=e.$document[0].getElementById("webcat-identicon-canvas").toDataURL(),e.then({$data:t}),e.$hash=void 0,e.$firedux.$apply()})}}]),e}();angular.module("webcat.wcIdenticon",["angular-md5"]).component("wcIdenticon",{controller:e,templateUrl:"webcat/components/identicon/identicon.html",transclude:{then:"?then","catch":"?catch",before:"?before"},bindings:{wcIdenticonEmail:"@",then:"&"}})}();var _createClass=function(){function e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}();!function(){var e=function(){function e(t,n,a){_classCallCheck(this,e),this.$mdDialog=t,this.$firedux=a,this.$document=n,this.defaultLabels={ok:"Ok",cancel:"Cancel"}}return e.$inject=["$mdDialog","$document","$firedux"],_createClass(e,[{key:"$onInit",value:function(){this.launchDialog()}},{key:"$onChanges",value:function(){this.setDialogBindings(this.wcDialogLabels)}},{key:"setDialogBindings",value:function(){var e=arguments.length<=0||void 0===arguments[0]?{}:arguments[0];this.dialogBindings=Object.assign(this.defaultLabels,e,{progress:this.wcDialogProgress,component:this.wcDialogComponent,login:this.wcDialogLogin})}},{key:"launchDialog",value:function(){this.wcDialogAlert?this.openDialog({type:"alert",bindings:this.dialogBindings}):this.wcDialogConfirm?this.openDialog({type:"confirm",bindings:this.dialogBindings}):this.wcDialogPrompt?this.openDialog({type:"prompt",bindings:this.dialogBindings}):this.wcDialogProgress?this.openDialog({type:"progress",bindings:this.dialogBindings}):this.wcDialogLogin?this.openDialog({type:"login",bindings:this.dialogBindings}):this.wcDialogComponent?this.openDialog({type:"component",bindings:this.dialogBindings}):this.wcDialogTemplate&&(this.$template=!0,this.$firedux.$apply(),this.openDialog({type:"template"}))}},{key:"openDialog",value:function(){var e=this,t=arguments.length<=0||void 0===arguments[0]?{}:arguments[0],n=t.type,a=t.bindings,i=this,r=void 0;switch(n){case"alert":r=this.$mdDialog.alert({title:a.title,textContent:a.body,ok:a.ok});break;case"confirm":r=this.$mdDialog.confirm({title:a.title,textContent:a.body,ok:a.ok,cancel:a.cancel});break;case"prompt":r=this.$mdDialog.prompt({title:a.title,textContent:a.body,ok:a.ok,cancel:a.cancel});break;case"template":r={parent:angular.element(this.$document[0].body),contentElement:"#webcatDialogTemplate",fullscreen:!angular.isDefined(this.wcDialogFullscreen)||this.wcDialogFullscreen,clickOutsideToClose:!!angular.isDefined(this.wcDialogModal)&&!this.wcDialogModal,escapeToClose:!!angular.isDefined(this.wcDialogModal)&&!this.wcDialogModal};break;default:r=this.getTemplate(n,a.component),r={template:r,controller:function(){this.$bindings=a,this.$bindings.then=function(e){i.$mdDialog.hide(e)},this.$bindings["catch"]=function(){i.$mdDialog.cancel()}},controllerAs:"$ctrl"}}this.$firedux.$timeout(function(){e.$mdDialog.show(r).then(function(t){e.$ready=!0,e.then({$data:t}),e.$firedux.$apply(),e.$after=!0,e.after()},function(t){e.$error=!0,e["catch"]({$error:t}),e.$firedux.$apply(),e.$after=!0,e.after()})})}},{key:"getTemplate",value:function(e,t){switch(e){case"progress":return'<wc-dialog-progress bindings="$ctrl.$bindings"></wc-dialog-progress>';case"login":return'<wc-dialog-login bindings="$ctrl.$bindings"></wc-dialog-login>';case"component":if(angular.isString(t))return"<"+t+' bindings="$ctrl.$bindings"></'+t+">"}}},{key:"$onDestroy",value:function(){this.$mdDialog.cancel()}}]),e}();angular.module("webcat.wcDialog",["webcat.wcDialog.login","webcat.wcDialog.progress"]).component("wcDialog",{controller:e,templateUrl:"webcat/components/dialog/dialog.html",transclude:{wcDialogTemplate:"?wcDialogTemplate",then:"?then","catch":"?catch",after:"?after"},bindings:{wcDialogAlert:"@",wcDialogConfirm:"@",wcDialogProgress:"@",wcDialogPrompt:"@",wcDialogLogin:"@",wcDialogComponent:"@",wcDialogTemplate:"@",wcDialogLabels:"<",wcDialogFullscreen:"<",wcDialogModal:"<",then:"&","catch":"&",after:"&"}})}();var _createClass=function(){function e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}();!function(){var e=function(){function e(t){_classCallCheck(this,e),this.$firedux=t}return e.$inject=["$firedux"],_createClass(e,[{key:"$onChanges",value:function(e){this.$then=this.$catch=this.$before=void 0,e.promise?this.unwrap(this.promise):e["if"]&&this.validate(this["if"])}},{key:"validate",value:function(e){e?this.$then=!0:this.$catch=!0}},{key:"unwrap",value:function(e){var t=this;this.$before=!0,e.then(function(e){t.$then=!0,t.then({$data:e})})["catch"](function(e){t.$catch=!0,t["catch"]({$error:e})})}}]),e}();angular.module("util.fdUtilSwitch",["util.fdUtilSwitch.item"]).component("fdUtilSwitch",{controller:e,templateUrl:"util/components/switch/switch.html",transclude:{before:"?before",then:"?then","catch":"?catch",array:"?array"},bindings:{promise:"<","if":"<",current:"@",before:"&",then:"&","catch":"&"}})}(),function(){angular.module("test.webcat.upload",[]).component("testWebcatUpload",{templateUrl:"test/webcat/upload/upload.test.html"})}(),function(){angular.module("test.webcat.toggle",[]).component("testWebcatToggle",{templateUrl:"test/webcat/toggle/toggle.test.html"})}(),function(){angular.module("test.webcat.rating",[]).component("testWebcatRating",{templateUrl:"test/webcat/rating/rating.test.html"})}(),function(){angular.module("test.webcat.progress",[]).component("testWebcatProgress",{templateUrl:"test/webcat/progress/progress.test.html"})}(),function(){var e=function t(){_classCallCheck(this,t)};angular.module("test.webcat.panel",[]).component("testWebcatPanel",{templateUrl:"test/webcat/panel/panel.test.html",controller:e})}(),function(){angular.module("test.webcat.identicon",[]).component("testWebcatIdenticon",{templateUrl:"test/webcat/identicon/identicon.test.html"})}();var _createClass=function(){function e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}();!function(){var e=function(){function e(t){_classCallCheck(this,e),t.reducer({trigger:"DIALOG.DISPATCHER",reducer:function(e){console.log(e)}})}return e.$inject=["$firedux"],_createClass(e,[{key:"$isPloplLife",value:function(){console.log("Plop is life")}}]),e}();angular.module("test.webcat.dialog",[]).component("testWebcatDialog",{templateUrl:"test/webcat/dialog/dialog.test.html",controller:e})}(),function(){angular.module("test.firedux.user",[]).component("testFireduxUser",{templateUrl:"test/firedux/user/user.test.html"})}(),function(){angular.module("test.firedux.set",[]).component("testFireduxSet",{templateUrl:"test/firedux/set/set.test.html"})}(),function(){angular.module("test.firedux.ref",[]).component("testFireduxRef",{templateUrl:"test/firedux/ref/ref.test.html"})}(),function(){angular.module("test.firedux.env",[]).component("testFireduxEnv",{templateUrl:"test/firedux/env/env.html"})}(),function(){angular.module("test.firedux.api",[]).component("testFireduxApi",{templateUrl:"test/firedux/api/api.test.html"})}();var _createClass=function(){function e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}();!function(){var e=function(){function e(t){_classCallCheck(this,e),this.$firedux=t}return e.$inject=["$firedux"],_createClass(e,[{key:"$onInit",value:function(){var e=this;this.$firedux.val(this.fdValueId).watch(function(t){angular.isDefined(t)&&e.then({$data:t}),e.isInitialized=!0})}},{key:"$onChanges",value:function(e){e.fdValueData&&this.isInitialized&&this.$firedux.val(this.fdValueId).set(this.fdValueData)}}]),e}();angular.module("firedux.fdValue",[]).component("fdValue",{controller:e,bindings:{fdValueId:"@",fdValueData:"<",then:"&"}})}();var _createClass=function(){function e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}();!function(){var e=function(){function e(){_classCallCheck(this,e)}return _createClass(e,[{key:"$then",value:function(e){this.then({$data:e})}},{key:"$catch",value:function(e){this["catch"]({$error:e})}}]),e}();angular.module("firedux.fdUser",[]).component("fdUser",{controller:e,templateUrl:"firedux/components/user/user.html",transclude:{before:"?before",then:"?then","catch":"?catch"},bindings:{then:"&","catch":"&"}})}();var _createClass=function(){function e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}();!function(){var e=function(){function e(t){_classCallCheck(this,e),this.$firedux=t}return e.$inject=["$firedux"],_createClass(e,[{key:"$onChanges",value:function(e){e.fdUploadFile&&this.upload(this.fdUploadFile)}},{key:"upload",value:function(e){var t=this,n=this.$firedux.storageRef(),a=n.child(this.$firedux["var"]("UID")).put(e);this.$before=this.$then=this.$catch=void 0,a.on("state_changed",function(e){var n=e.bytesTransferred/e.totalBytes*100;n=Math.floor(n),console.log(n),t.$before=!0,t.before({$progress:n}),t.$firedux.$apply()},function(e){t.$catch=!0,t.$before=!1,t.$firedux.$apply(),t["catch"]({$error:e})}),a.then(function(e){t.$then=!0,t.$before=!1,t.$firedux.$apply(),t.then({$data:{ref:e.ref.fullPath,url:e.downloadURL}})})}}]),e}();angular.module("firedux.fdUpload",[]).component("fdUpload",{controller:e,templateUrl:"firedux/components/upload/upload.html",transclude:{before:"?before",then:"?then","catch":"?catch"},bindings:{fdUploadFile:"<",then:"&","catch":"&",before:"&"}})}();var _createClass=function(){function e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}();!function(){var e=function(){function e(t){_classCallCheck(this,e),this.$firedux=t}return e.$inject=["$firedux"],_createClass(e,[{key:"$onInit",value:function(){this.$firedux.analytics().pageView(this.fdTrackPage)}}]),e}(),t=function(){function e(t){_classCallCheck(this,e),this.$firedux=t}return e.$inject=["$firedux"],_createClass(e,[{key:"$onInit",value:function(){this.$firedux.analytics().sendPixelHit(this.fdTrackType,this.fdTrackParams)}}]),e}(),n=function(){function e(t){_classCallCheck(this,e),this.$firedux=t}return e.$inject=["$firedux"],_createClass(e,[{key:"$onInit",value:function(){this.$firedux.analytics().sendAnalyticsHit(this.fdTrackType,this.fdTrackParams)}}]),e}();angular.module("firedux.fdTrack",[]).component("fdTrackPage",{controller:e,bindings:{fdTrackPage:"@"}}).component("fdTrackPixel",{controller:t,bindings:{fdTrackType:"@",fdTrackParams:"<"}}).component("fdTrackAnalytics",{controller:n,bindings:{fdTrackType:"@",fdTrackParams:"<"}})}();var _createClass=function(){function e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}();!function(){var e=function(){function e(t,n){_classCallCheck(this,e),this.$firedux=t,this.$timeout=n}return e.$inject=["$firedux","$timeout"],_createClass(e,[{key:"$onChanges",value:function(e){var t=this;e.fdTimeoutTime&&(this.$before=!0,this.$ready=!1,this.timer=this.$timeout(function(){t.$before=!1,t.$ready=!0},this.fdTimeoutTime))}},{key:"$onDestroy",value:function(){this.$timeout.cancel(this.timer)}}]),e}();angular.module("firedux.fdTimeout",[]).component("fdTimeout",{controller:e,templateUrl:"firedux/components/timeout/timeout.html",transclude:{then:"?then",before:"?before"},bindings:{fdTimeoutTime:"<",then:"&"}})}();var _createClass=function(){function e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}();!function(){var e=function(){function e(t){_classCallCheck(this,e),this.$firedux=t}return e.$inject=["$firedux"],_createClass(e,[{key:"$onChanges",value:function(e){(e.fdSetPath||e.fdSetData||e.fdSetPresence)&&this.setData(this.fdSetData,this.getRef(this.fdSetPath),this.fdSetPresence)}},{key:"setData",value:function(e,t,n){var a=this;this.$loading=!0,this.$ready=this.$error=void 0,t.set(e).then(function(){a.then(),a.$loading=!1,a.$ready=!0,a.$firedux.$apply()})["catch"](function(e){a["catch"]({$error:e}),a.$loading=!1,a.$error=!0,a.$firedux.$apply()}),n&&(this.removeOnDestroy(t),t.onDisconnect().remove())}},{key:"getRef",value:function(e){return angular.isString(e)?this.$firedux.ref(e):void this["catch"]({$error:{type:"Path is not a string"}})}},{key:"removeOnDestroy",value:function(e){this.destroyRef=e}},{key:"$onDestroy",value:function(){this.destroyRef&&this.destroyRef.remove&&this.destroyRef.remove()}}]),e}();angular.module("firedux.fdSet",[]).component("fdSet",{controller:e,templateUrl:"firedux/components/set/set.html",transclude:{before:"?before",then:"?then","catch":"?catch"},bindings:{fdSetPath:"@",fdSetData:"<",fdSetPresence:"<",then:"&","catch":"&"}})}();var _createClass=function(){function e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}();!function(){var e=function(){function e(t){_classCallCheck(this,e),this.$firedux=t}return e.$inject=["$firedux"],_createClass(e,[{key:"$onChanges",value:function(e){e.fdRegisterCredentials&&(angular.isUndefined(this.fdClick)?this.dispatch(this.fdRegisterCredentials):this.$class="hidden-input")}},{key:"dispatch",value:function(e){angular.isObject(e)&&this.$firedux.register(e)}},{key:"$run",value:function(){this.fdClick&&this.dispatch(this.fdRegisterCredentials)}}]),e}();angular.module("firedux.fdRegister",[]).component("fdRegister",{controller:e,template:'<div ng-if="$ctrl.$class" ng-class="$ctrl.$class" ng-click="$ctrl.$run()"/>',bindings:{fdClick:"<",fdRegisterCredentials:"<"}})}();var _createClass=function(){function e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}();!function(){var e=function(){function e(t,n,a){_classCallCheck(this,e),this.$scope=t,this.$firedux=n,this.$timeout=a}return e.$inject=["$scope","$firedux","$timeout"],_createClass(e,[{key:"$onChanges",value:function(e){(e.fdRefPath||e.fdRefPaths||e.fdRefQuery||e.fdRefArray)&&(this.$ready=this.$error=this.$before=void 0,this.fdRefPath?this.updateRef(this.fdRefPath,this.fdRefQuery,this.fdRefArray):this.fdRefPaths&&this.updateRefs(this.fdRefPaths))}},{key:"updateRef",value:function(e,t,n){var a=this;this.$before=!0,this.watchRef(e,t,function(e){a.resolveChanges(n?a.getArray(e):e.val())},function(e){a.error(e)})}},{key:"updateRefs",value:function(e){var t=this;angular.isArray(e)&&Promise.all(this.getRefPromises(this.getRefDefinitions(e))).then(function(e){t.resolveChanges(e)})}},{key:"getRefDefinitions",value:function(e){var t=this,n=[];return angular.forEach(e,function(e){angular.isString(e)?n.push({ref:t.getRef(e),array:!1}):angular.isObject(e)&&angular.isString(e.path)?n.push({ref:t.getRef(e.path),array:e.array}):console.error("The path object was incorrectly formatted: ",e)}),n}},{key:"getRef",value:function(e,t){var n=this.$firedux.ref(e);return angular.isObject(t)&&(n=this.getSortedRef(t,n),n=this.getFilteredRef(t,n)),n}},{key:"getSortedRef",value:function(){var e=arguments.length<=0||void 0===arguments[0]?{}:arguments[0],t=arguments.length<=1||void 0===arguments[1]?{}:arguments[1],n=t;return e.orderByChild?n=t.orderByChild(e.orderByChild):e.orderByKey?n=t.orderByKey():e.orderByValue&&(n=t.orderByValue()),n}},{key:"getFilteredRef",value:function(){var e=arguments.length<=0||void 0===arguments[0]?{}:arguments[0],t=arguments.length<=1||void 0===arguments[1]?{}:arguments[1],n=t;return e.limitToFirst&&(n=n.limitToFirst(e.limitToFirst)),e.limitToLast&&(n=n.limitToLast(e.limitToLast)),e.startAt&&(n=n.startAt(e.startAt)),e.endAt&&(n=n.endAt(e.endAt)),angular.isDefined(e.equalTo)&&(n=n.equalTo(e.equalTo)),n}},{key:"getRefPromises",value:function(e){var t=this,n=void 0;return angular.forEach(e,function(e){n.push(e.once("value").then(function(n){return e.array?t.getArray(n):n.val()}))}),n}},{key:"watchRef",value:function(e,t,n,a){angular.isObject(this.ref)&&angular.isFunction(this.ref.off)&&this.ref.off(),this.ref=this.getRef(e,t),this.ref.on("value",n,a)}},{key:"getArray",value:function(e){var t=[];return e.forEach(function(e){t.push(e.val())}),t}},{key:"error",value:function(e){console.warn(e),this.$before=void 0,this.$error=e,this["catch"]({$error:e}),this.$scope.$apply()}},{key:"resolveChanges",value:function(e){var t=this;this.$before=void 0,this.$ready=!0,this.then({$data:e}),this.$timeout(function(){t.$scope.$apply()})}}]),e}();angular.module("firedux.fdRef",[]).component("fdRef",{controller:e,templateUrl:"firedux/components/ref/ref.html",transclude:{before:"?before",then:"?then","catch":"?catch"},bindings:{fdRefPath:"@",fdRefPaths:"<",fdRefQuery:"<",fdRefArray:"<",then:"&","catch":"&"}})}();var _createClass=function(){function e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}();!function(){var e=function(){function e(t){_classCallCheck(this,e),this.$firedux=t}return e.$inject=["$firedux"],_createClass(e,[{key:"$onChanges",value:function(e){var t=void 0;this.$ready=this.$error=void 0,(e.fdLoginProvider||e.fdLoginCredentials)&&(this.fdLoginRedirect&&(t="redirect"),this.fdLoginPopup&&(t="popup"),this.login(this.fdLoginProvider,this.fdLoginCredentials,t))}},{key:"login",value:function(e,t,n){var a=this;this.$before=!0,this.$firedux.login(e,t,n).then(function(e){a.$ready=!0,a.$before=void 0,a.$firedux.$apply(),a.then({$data:e})})["catch"](function(e){a.$error=e,a.$before=void 0,a.$firedux.$apply(),a["catch"]({$error:e})})}}]),e}();angular.module("firedux.fdLogin",[]).component("fdLogin",{controller:e,templateUrl:"firedux/components/login/_login.html",transclude:{before:"?before",then:"?then","catch":"?catch"},bindings:{fdLoginProvider:"@",fdLoginCredentials:"<",fdLoginRedirect:"<",fdLoginPopup:"<",then:"&","catch":"&"}})}();var _createClass=function(){function e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}();!function(){var e=function(){function e(t){_classCallCheck(this,e),this.$firedux=t}return e.$inject=["$firedux"],_createClass(e,[{key:"$onChanges",value:function(e){this.$ready=this.$error=void 0,(e.fdLinkProvider||e.fdLinkCredentials)&&this.link(this.fdLinkProvider,this.fdLinkCredentials,"redirect")}},{key:"link",value:function(e,t,n){var a=this;this.$before=!0,this.$firedux.link(e,t,n).then(function(e){a.$ready=!0,a.$before=void 0,a.$firedux.$apply(),a.then({$data:e})})["catch"](function(e){a.$error=e,a.$before=void 0,a.$firedux.$apply(),a["catch"]({$error:e})})}}]),e}();angular.module("firedux.fdLink",[]).component("fdLink",{controller:e,templateUrl:"firedux/components/link/link.html",transclude:{before:"?before",then:"?then","catch":"?catch"},bindings:{fdLinkProvider:"@",fdLinkCredentials:"<",then:"&","catch":"&"}})}();var _createClass=function(){function e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}();!function(){var e=function(){function e(t){_classCallCheck(this,e),this.$firedux=t}return e.$inject=["$firedux"],_createClass(e,[{key:"$onChanges",value:function(){this.fdDispatcherAction?angular.isUndefined(this.fdClick)?this.dispatch(this.fdDispatcherAction):(this.$class="hidden-input",console.error("fd-dispatcher:fd-click is being deprecated. Please make sure to change your implementation.")):this.fdDispatcherActions&&this.dispatchAll(this.fdDispatcherActions)}},{key:"dispatch",value:function(e){var t=this;angular.isObject(e)&&angular.isString(e.type)&&(this.$before||(this.$before=!0,this.$ready=this.$error=void 0,this.$firedux.$apply(),this.$firedux.dispatch(e).then(function(e){t.$ready=!0,t.$before=void 0,t.$firedux.$apply(),t.then({$data:e})})["catch"](function(e){t.$error=e,t.$before=void 0,t.$firedux.$apply(),t["catch"]({$error:e})})))}},{key:"dispatchAll",value:function(e){var t=this;if(angular.isArray(e)){var n=!0;angular.forEach(e,function(e){angular.isObject(e)&&angular.isString(e.type)||(n=!1)}),!this.$before&&n&&(this.$before=!0,this.$ready=this.$error=void 0,this.$firedux.$apply(),this.$firedux.dispatchGroup(e).then(function(e){t.$ready=!0,t.$before=void 0,t.$firedux.$apply(),t.then({$data:e})})["catch"](function(e){t.$error=e,t.$before=void 0,t.$firedux.$apply(),t["catch"]({$error:e})}))}}},{key:"$run",value:function(){this.fdClick&&this.dispatch(this.fdDispatcherAction)}}]),e}();angular.module("firedux.fdDispatcher",[]).component("fdDispatcher",{controller:e,templateUrl:"firedux/components/dispatcher/dispatcher.html",transclude:{before:"?before",then:"?then","catch":"?catch"},bindings:{fdClick:"<",fdDispatcherAction:"<",fdDispatcherActions:"<",then:"&","catch":"&"}})}();var _createClass=function(){function e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}();!function(){var e=function(){function e(t){_classCallCheck(this,e),this.$firedux=t}return e.$inject=["$firedux"],_createClass(e,[{key:"$onChanges",value:function(e){this.$ready=this.$error=!1,e.fdImgUrl||e.fdImgSize?this.getUrl():this.$error=!0}},{key:"getUrl",value:function(){if(angular.isString(this.fdImgUrl)&&angular.isNumber(this.fdImgSize)){var e=this.fdImgUrl,t=this.fdImgSize;this.then({$data:this.$firedux.storage().getResizeableUrl(e,t)}),this.$ready=!0}}}]),e}();angular.module("firedux.fdImgResize",[]).component("fdImgResize",{controller:e,templateUrl:"firedux/components/img-resize/img-resize.html",transclude:{then:"?then","catch":"?catch"},bindings:{fdImgUrl:"@",fdImgSize:"<",then:"&"}})}();var _createClass=function(){function e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}();!function(){var e=function(){function e(t){_classCallCheck(this,e),this.$firedux=t,this.$uid=this.$firedux["var"]("UID")}return e.$inject=["$firedux"],_createClass(e,[{key:"$onChanges",value:function(e){(e.fdApiEndpoint||e.fdApiRequest||e.fdApiArray)&&this.makeRequest()}},{key:"makeRequest",value:function(){var e=this,t=this.fdApiEndpoint,n=this.fdApiRequest,a=this.$uid;angular.isString(t)&&angular.isDefined(n)&&(this.$isArray=this.fdApiArray,this.$path=null,this.$firedux.$apply(),this.$path="api/"+t+"/"+a,this.$request={request:n,timestamp:this.$firedux["var"]("TIMESTAMP")},this.$before=!0,this.$ready=this.$error=void 0,this.before({$promise:new Promise(function(t,n){e.resolve=t,e.reject=n})}))}},{key:"$then",value:function(e){this.resolve(e),this.$ready=!0,this.$before=!1,this.then({$data:e})}},{key:"$catch",value:function(e){this.reject(e),this.$error=!0,this.$before=!1,this["catch"]({$error:e})}}]),e}();angular.module("firedux.fdApi",[]).component("fdApi",{controller:e,templateUrl:"firedux/components/api/api.html",transclude:{before:"?before",then:"?then","catch":"?catch"},bindings:{fdApiEndpoint:"@",fdApiRequest:"<",fdApiArray:"<",then:"&","catch":"&",before:"&"}})}();var _createClass=function(){function e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}();!function(){var e=function(){function e(t){_classCallCheck(this,e),this.$firedux=t}return e.$inject=["$firedux"],_createClass(e,[{key:"$onInit",value:function(){var e=this;this.$before=!0,this.$firedux.waitForAuth(function(t){e.$firedux.$apply(),t?e.$then(t):e.$catch(t)},function(){e.$firedux.$apply(),e.$catch()})}},{key:"$reset",value:function(){this.$ready=void 0,this.$before=void 0,this.$error=void 0}},{key:"$then",value:function(e){this.$reset(),this.$ready=!0,this.$before=void 0,this.then({$data:e})}},{key:"$catch",value:function(){this.$reset(),this.$error=!0,this.$before=void 0,this["catch"]()}}]),e}();angular.module("firedux.fdAuth",[]).component("fdAuth",{controller:e,templateUrl:"firedux/components/auth/auth.html",transclude:{before:"?before",then:"?then","catch":"?catch"},bindings:{then:"&","catch":"&"}})}(),function(){angular.module("webcat.components",["webcat.wcDialog","webcat.wcIdenticon","webcat.wcMenu","webcat.wcPanel","webcat.wcProgress","webcat.wcRating","webcat.wcText","webcat.wcToast","webcat.wcToggle","webcat.wcUiRedirect","webcat.wcUiParams","webcat.wcUpload"])}(),function(){angular.module("util.components",["util.fdUtilSwitch"])}(),function(){angular.module("test.webcat",["test.webcat.dialog","test.webcat.identicon","test.webcat.panel","test.webcat.progress","test.webcat.rating","test.webcat.toggle","test.webcat.upload"]).component("testWebcat",{templateUrl:"test/webcat/_webcat.html"})}(),function(){angular.module("test.firedux",["test.firedux.api","test.firedux.env","test.firedux.ref","test.firedux.set","test.firedux.user"]).component("testFiredux",{templateUrl:"test/firedux/_firedux.html"})}();var _createClass=function(){function e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}();!function(){var e=function(){function e(){_classCallCheck(this,e),this.callbacks=[]}return _createClass(e,[{key:"set",value:function(e){var t=this;this.data=e,angular.forEach(this.callbacks,function(e){e(t.data)})}},{key:"watch",value:function(e){var t=this;return this.callbacks.push(e),e(this.data),function(){var n=t.callbacks.indexOf(e);t.callbacks.splice(n,1)}}}]),e}(),t=function(){function t(e,n,a,i,r,c){_classCallCheck(this,t),this.firebase=e.firebase,this.$fireduxAuth=n,this.$fireduxAnalytics=a,this.$fireduxStorage=i,this.reducers=[],this.$scope=c,this.$timeout=r,this.isDispatching={},this.vals={}}return t.$inject=["$window","$fireduxAuth","$fireduxAnalytics","$fireduxStorage","$timeout","$rootScope"],_createClass(t,[{key:"init",value:function(e,t,n){var a=this;this.firebase.initializeApp(e),this.val("PROJECT_ID").set(e.authDomain.split(".")[0]),this.hasInitialized=!0,this.$fireduxAuth.init(this.firebase),this.$fireduxAnalytics.init(t,n),this.database=this.firebase.database,this.projectUrl=e.storageBucket,
this.waitForAuth(function(e){e&&a.ref("users").child(e.uid).on("value",function(e){a.user=e.val()})})}},{key:"var",value:function(e){switch(e){case"UID":return this.UID;case"TIMESTAMP":return this.TIMESTAMP;default:return null}}},{key:"val",value:function(t){return this.vals[t]||(this.vals[t]=new e),this.vals[t]}},{key:"analytics",value:function(){return this.$fireduxAnalytics}},{key:"ref",value:function(e){return this.database().ref(e)}},{key:"api",value:function(e){var t=this;return{call:function(n){var a=t.UID;return t.ref("api").child(e).child(a).set({request:n,timestamp:t.TIMESTAMP}).then(function(){return new Promise(function(n,i){t.ref("api").child(e).child(a).child("response").on("value",function(r){t.$timeout(function(){i("API timed out")},1e4),r&&(t.ref("api").child(e).child(a).child("response").off(),t.ref("api").child(e).child(a).set(null),n(r.val()))})})})}}}},{key:"parseArray",value:function(e){var t=this,n={};return angular.isArray(e)&&angular.forEach(e,function(e){n[t.UID]=e}),n}},{key:"storage",value:function(){return this.$fireduxStorage}},{key:"storageRef",value:function(e){return this.storage().ref(e)}},{key:"reducer",value:function(e){if(angular.isString(e.trigger)&&angular.isFunction(e.reducer)){if(this.reducers[e.trigger])throw new Error("Couldn't register reducer. Make sure all params are set up correctly.");return this.registerReducer(e)}throw new Error("Couldn't register reducer. Make sure all params are set up correctly.")}},{key:"registerReducer",value:function(e){this.reducers[e.trigger]=e.reducer}},{key:"dispatch",value:function(e){var t=this,n=arguments.length<=1||void 0===arguments[1]||arguments[1];return new Promise(function(a,i){if(t.isDispatching[e.type])t.isDispatching[e.type]=!1,n&&console.warn("Firedux is already dispatching this action: "+e.type),i("Firedux is already dispatching this action: "+e.type);else if(t.isDispatching[e.type]=!0,angular.isDefined(t.reducers[e.type])){n&&(console.groupCollapsed(""+e.type),console.log(e));try{t.reducers[e.type](e,t).then(function(i){n&&(console.log("Reducer resolved"),console.groupEnd()),t.$scope.$emit("fd:action",e.type),t.isDispatching[e.type]=!1,a(i)})["catch"](function(a){a=a||"UNDEFINED ERROR",n&&(console.groupEnd(),console.warn("Reducer "+e.type+" threw this error: ",a)),t.isDispatching[e.type]=!1,t.$scope.$emit("fd:error",e.type+": "+a),i(a)})}catch(r){t.isDispatching[e.type]=!1,n&&console.groupEnd(),t.$scope.$emit("fd:error",e.type+": "+r),n&&console.warn("Reducer "+e.type+" threw this synchronous error: ",r),i(r)}}else t.isDispatching[e.type]=!1,n&&console.warn("Reducer "+e.type+" is not registered"),i("Reducer "+e.type+" is not registered")})}},{key:"dispatchGroup",value:function(e){var t=this,n=arguments.length<=1||void 0===arguments[1]||arguments[1],a=[],i="";return angular.forEach(e,function(e){i=i+", "+e.type,a.push(t.dispatch(e,!1))}),n&&(console.groupCollapsed(""+i),angular.forEach(e,function(e){console.log(e)})),Promise.all(a).then(function(){n&&(console.log("All reducers resolved"),console.groupEnd())})["catch"](function(e){e=e||"UNDEFINED ERROR",n&&(console.groupEnd(),console.warn("One reducer threw this error: ",e))})}},{key:"waitForAuth",value:function(e,t){return this.$fireduxAuth.waitForAuth(e,t)}},{key:"register",value:function(e){var t=this;return this.$fireduxAuth.register(e).then(function(){return t.login("email",e)})}},{key:"login",value:function(e,t,n){var a=void 0,i=void 0;switch(e){case"email":a=this.$fireduxAuth.signInWithEmailAndPassword(t);break;case"anonymous":a=this.$fireduxAuth.signInAnonymously();break;case"facebook":i=this.$fireduxAuth.getProvider("facebook");break;case"google":i=this.$fireduxAuth.getProvider("google");break;case"twitter":i=this.$fireduxAuth.getProvider("twitter");break;default:a=Promise.reject()}if(i)switch(n){case"popup":a=this.$fireduxAuth.signInWithPopup(i);break;case"redirect":a=this.$fireduxAuth.signInWithRedirect(i)}return a}},{key:"link",value:function(e,t,n){var a=void 0,i=void 0;switch(e){case"email":i=this.$fireduxAuth.getProvider("email",t);break;case"facebook":i=this.$fireduxAuth.getProvider("facebook");break;case"google":i=this.$fireduxAuth.getProvider("google");break;case"twitter":i=this.$fireduxAuth.getProvider("twitter");break;default:a=Promise.reject()}if(i){switch(n){case"redirect":a=this.$fireduxAuth.linkWithRedirect(i)}"email"===e&&(a=this.$fireduxAuth.link(i))}return a}},{key:"updatePassword",value:function(e,t){return this.$fireduxAuth.updatePassword(e,t)}},{key:"updateProfile",value:function(e){return this.$fireduxAuth.updateProfile(e)}},{key:"logout",value:function(){this.$fireduxAuth.logout()}},{key:"setParams",value:function(e){console.error("$firedux.setParams is being deprecated. Please update your code accordingly."),this.stateParams=e}},{key:"$apply",value:function(){var e=this;this.$timeout(function(){e.$scope.$apply()})}},{key:"auth",get:function(){return this.$fireduxAuth.auth||{}}},{key:"TIMESTAMP",get:function(){return this.firebase.database.ServerValue.TIMESTAMP}},{key:"UID",get:function(){return this.firebase.database().ref("api").push().key}}]),t}();angular.module("firedux.service",["firedux.auth","firedux.analytics","firedux.storage"]).service("$firedux",t)}();var _createClass=function(){function e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}();!function(){var e=function(){function e(t){_classCallCheck(this,e),this.firebase=t.firebase}return e.$inject=["$window"],_createClass(e,[{key:"ref",value:function(e){return this.firebase.storage().ref(e)}},{key:"refFromURL",value:function(e){return this.firebase.storage().refFromURL(e)}},{key:"getResizeableUrl",value:function(e,t){var n=this.refFromURL(e),a=n.bucket.split(".")[0],i=n.fullPath;return"https://"+a+".appspot.com/?project="+a+"&image="+i+"&size="+t}}]),e}();angular.module("firedux.storage",[]).service("$fireduxStorage",e)}();var _createClass=function(){function e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}();!function(){var e=function(){function e(){_classCallCheck(this,e)}return _createClass(e,[{key:"init",value:function(e){var t=this;this.$auth=e.auth,this.$auth().onAuthStateChanged(function(e){t.auth=e})}},{key:"waitForAuth",value:function(e,t){return this.$auth().onAuthStateChanged(e,t)}},{key:"getProvider",value:function(e,t){var n=void 0;switch(e){case"facebook":n=new this.$auth.FacebookAuthProvider;break;case"twitter":n=new this.$auth.TwitterAuthProvider;break;case"google":n=new this.$auth.GoogleAuthProvider;break;case"email":n=new this.$auth.EmailAuthProvider(t)}return n}},{key:"link",value:function(e){return this.auth.link(e)}},{key:"linkWithRedirect",value:function(e){return this.auth.linkWithRedirect(e)}},{key:"signInAnonymously",value:function(){return this.$auth().signInAnonymously()}},{key:"signInWithEmailAndPassword",value:function(){var e=arguments.length<=0||void 0===arguments[0]?{}:arguments[0];return this.$auth().signInWithEmailAndPassword(e.email,e.password)}},{key:"signInWithPopup",value:function(e){return this.$auth().signInWithPopup(e)}},{key:"signInWithRedirect",value:function(e){return this.$auth().signInWithRedirect(e)}},{key:"register",value:function(e){return this.$auth().createUserWithEmailAndPassword(e.email,e.password)}},{key:"updatePassword",value:function(e,t){var n=this,a=this.auth.email;return this.auth.reauthenticate(this.$auth.EmailAuthProvider.credential(a,e)).then(function(){return n.auth.updatePassword(t)})}},{key:"updateProfile",value:function(e){var t={};return angular.isString(e.displayName)&&(t.displayName=e.displayName),angular.isString(e.photoURL)&&(t.photoURL=e.photoURL),this.auth.updateProfile(t)}},{key:"logout",value:function(){return this.$auth().signOut()}}]),e}();angular.module("firedux.auth",[]).service("$fireduxAuth",e)}();var _createClass=function(){function e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}();!function(){var e=function(){function e(t,n){_classCallCheck(this,e),this.$window=t,this.$rootScope=n}return e.$inject=["$window","$rootScope"],_createClass(e,[{key:"init",value:function(e,t){angular.isFunction(this.$window.ga)&&angular.isString(e)&&this.$window.ga("create",e,"auto"),angular.isFunction(this.$window.fbq)&&angular.isString(t)&&this.$window.fbq("init",t),(e||t)&&(this.trackPageViews(),this.trackDispatcher())}},{key:"sendAnalyticsHit",value:function(e){var t=arguments.length<=1||void 0===arguments[1]?{}:arguments[1];if(angular.isString(e)&&angular.isFunction(this.$window.ga)){var n=Object.assign({hitType:e},t);this.$window.ga("send",n)}}},{key:"sendPixelHit",value:function(e){var t=arguments.length<=1||void 0===arguments[1]?{}:arguments[1];angular.isString(e)&&angular.isFunction(this.$window.fbq)&&this.$window.fbq("track",e,t)}},{key:"trackPageViews",value:function(){function e(e){return e.split(".").join("/")}var t=this;this.$rootScope.$on("$stateChangeSuccess",function(n,a){t.pageView(e(a.name))})}},{key:"trackDispatcher",value:function(){var e=this;this.$rootScope.$on("fd:action",function(t,n){e.action(n)}),this.$rootScope.$on("fd:error",function(t,n){e.error(n)})}},{key:"pageView",value:function(e){angular.isString(e)&&(this.sendAnalyticsHit("pageview",{page:e}),this.sendPixelHit("ViewContent",{content_name:e}))}},{key:"error",value:function(e){angular.isString(e)&&this.sendAnalyticsHit("exception",{exDescription:e})}},{key:"action",value:function(e,t){angular.isString(e)&&this.sendAnalyticsHit("event",{eventCategory:"Action",eventAction:e,eventLabel:t})}}]),e}();angular.module("firedux.analytics",[]).service("$fireduxAnalytics",e)}(),angular.module("firedux.components",["firedux.fdApi","firedux.fdAuth","firedux.fdDispatcher","firedux.fdImgResize","firedux.fdLink","firedux.fdLogin","firedux.fdRef","firedux.fdRegister","firedux.fdSet","firedux.fdTimeout","firedux.fdTrack","firedux.fdUpload","firedux.fdUser","firedux.fdValue"]),function(){angular.module("util",["util.components"])}(),function(){function e(e){e.init({apiKey:"AIzaSyApZgDIz2ZHBdpMAtMvpygRu84U4VFGKaI",authDomain:"pre-compro-staging.firebaseapp.com",databaseURL:"https://pre-compro-staging.firebaseio.com",storageBucket:"pre-compro-staging.appspot.com"})}e.$inject=["$firedux"],angular.module("test.run",[]).run(e)}(),function(){angular.module("test",["firedux","test.run","test.comp"])}(),function(){angular.module("test.comp",["test.firedux","test.webcat"]).component("testComp",{templateUrl:"test/_test-comp.html"})}(),function(){angular.module("firedux",["firebase","firedux.components","firedux.service"])}(),function(){angular.module("ng-webcat",["firedux","util","webcat"])}();
//# sourceMappingURL=app.js.map
