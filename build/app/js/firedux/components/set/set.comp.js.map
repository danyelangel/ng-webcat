{"version":3,"sources":["firedux/components/set/set.comp.es6"],"names":[],"mappings":";;;;;;AAAA,AAAC,CAAA,YAAY;AACX,cAAY,CAAC;;MACP,UAAU;AACH,aADP,UAAU,CACF,QAAQ,EAAE;4BADlB,UAAU;;AAEZ,UAAI,CAAC,QAAQ,GAAG,QAAQ,CAAC;KAC1B;;iBAHG,UAAU;;aAIJ,oBAAC,OAAO,EAAE;AAClB,YACE,OAAO,CAAC,SAAS,IACjB,OAAO,CAAC,SAAS,IACjB,OAAO,CAAC,aAAa,EACrB;AACA,cAAI,CAAC,OAAO,CACV,IAAI,CAAC,SAAS,EACd,IAAI,CAAC,MAAM,CAAC,IAAI,CAAC,UAAU,CAAC,EAC5B,IAAI,CAAC,aAAa,CACnB,CAAC;SACH;OACF;;;aACM,iBAAC,IAAI,EAAE,GAAG,EAAE,QAAQ,EAAE;;;AAC3B,YAAI,CAAC,MAAM,GAAG,IAAI,CAAC,MAAM,GAAG,SAAS,CAAC;AACtC,WAAG,CAAC,GAAG,CAAC,IAAI,CAAC,CACV,IAAI,CAAC,UAAA,QAAQ,EAAI;AAChB,gBAAK,IAAI,CAAC;AACR,iBAAK,EAAE,QAAQ,CAAC,GAAG,EAAE;WACtB,CAAC,CAAC;AACH,gBAAK,MAAM,GAAG,IAAI,CAAC;SACpB,CAAC,SACI,CAAC,UAAA,GAAG,EAAI;AACZ,wBAAU,CAAC;AACT,kBAAM,EAAE,GAAG;WACZ,CAAC,CAAC;AACH,gBAAK,MAAM,GAAG,GAAG,CAAC;SACnB,CAAC,CAAC;AACL,YAAI,QAAQ,EAAE;AACZ,aAAG,CAAC,YAAY,EAAE,CAAC,MAAM,EAAE,CAAC;SAC7B;OACF;;;aACK,gBAAC,IAAI,EAAE;AACX,YAAI,CAAC,OAAO,CAAC,QAAQ,CAAC,IAAI,CAAC,EAAE;AAC3B,cAAI,CAAC,UAAU,CAAC;AACd,kBAAM,EAAE;AACN,kBAAI,EAAE,sBAAsB;aAC7B;WACF,CAAC,CAAC;SACJ,MAAM;AACL,iBAAO,IAAI,CAAC,QAAQ,CAAC,GAAG,CAAC,IAAI,CAAC,CAAC;SAChC;OACF;;;WA9CG,UAAU;;;AAgDhB,SAAO,CACJ,MAAM,CAAC,eAAe,EAAE,EAAE,CAAC,CAC3B,SAAS,CAAC,OAAO,EAAE;AAClB,cAAU,EAAE,UAAU;AACtB,eAAW,EAAE,iCAAiC;AAC9C,cAAU,EAAE;AACV,YAAM,EAAE,SAAS;AACjB,UAAI,EAAE,OAAO;AACb,eAAO,QAAQ;KAChB;AACD,YAAQ,EAAE;AACR,eAAS,EAAE,GAAG;AACd,eAAS,EAAE,GAAG;AACd,mBAAa,EAAE,GAAG;AAClB,UAAI,EAAE,GAAG;AACT,eAAO,GAAG;KACX;GACF,CAAC,CAAC;CACN,CAAA,EAAE,CAAE","file":"firedux/components/set/set.comp.js","sourcesContent":["(function () {\n  'use strict';\n  class Controller {\n    constructor($firedux) {\n      this.$firedux = $firedux;\n    }\n    $onChanges(changes) {\n      if (\n        changes.fdSetPath ||\n        changes.fdSetData ||\n        changes.fdSetPresence\n      ) {\n        this.setData(\n          this.fdSetData,\n          this.getRef(this.fdBindPath),\n          this.fdSetPresence\n        );\n      }\n    }\n    setData(data, ref, presence) {\n      this.$ready = this.$error = undefined;\n      ref.set(data)\n        .then(snapshot => {\n          this.then({\n            $data: snapshot.val()\n          });\n          this.$ready = true;\n        })\n        .catch(err => {\n          this.catch({\n            $error: err\n          });\n          this.$error = err;\n        });\n      if (presence) {\n        ref.onDisconnect().remove();\n      }\n    }\n    getRef(path) {\n      if (!angular.isString(path)) {\n        this.onSetError({\n          $error: {\n            type: 'Path is not a string'\n          }\n        });\n      } else {\n        return this.$firedux.ref(path);\n      }\n    }\n  }\n  angular\n    .module('firedux.fdSet', [])\n    .component('fdSet', {\n      controller: Controller,\n      templateUrl: 'firedux/components/set/set.html',\n      transclude: {\n        before: '?before',\n        then: '?then',\n        catch: '?catch'\n      },\n      bindings: {\n        fdSetPath: '@',\n        fdSetData: '<',\n        fdSetPresence: '@',\n        then: '&',\n        catch: '&'\n      }\n    });\n}());\n"],"sourceRoot":"/source/"}