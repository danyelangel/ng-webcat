{"version":3,"sources":["webcat/components/rating/rating.comp.es6"],"names":[],"mappings":";;;;;;AAAA,AAAC,CAAA,YAAY;AACX,cAAY,CAAC;;MACP,UAAU;aAAV,UAAU;4BAAV,UAAU;;;iBAAV,UAAU;;aACJ,oBAAC,OAAO,EAAE;AAClB,YAAI,CAAC,UAAU,GAAG,CAAC,CAAC;AACpB,YACE,OAAO,CAAC,YAAY,IACpB,OAAO,CAAC,WAAW,EACnB;AACA,cAAI,CAAC,MAAM,GAAG,IAAI,CACf,aAAa,CACZ,IAAI,CAAC,WAAW,IAChB,IAAI,CAAC,YAAY,CAAC,CAAC;SACxB;OACF;;;aACI,eAAC,KAAK,EAAE;AACX,YAAI,CAAC,IAAI,CAAC;AACR,eAAK,EAAE,KAAK,GAAG,CAAC;SACjB,CAAC,CAAC;OACJ;;;aACY,uBAAC,KAAK,EAAE;AACnB,YAAI,UAAU,GAAG,EAAE,CAAC;AACpB,YAAI,OAAO,CAAC,QAAQ,CAAC,KAAK,CAAC,EAAE;AAC3B,cAAI,KAAK,GAAG,IAAI,CAAC,KAAK,CAAC,KAAK,CAAC;cACzB,OAAO,GAAG,KAAK,GAAG,KAAK;cACvB,SAAS,YAAA,CAAC;AACd,cAAI,OAAO,KAAK,CAAC,IAAI,KAAK,KAAK,IAAI,CAAC,UAAU,EAAE;AAC9C,qBAAS,GAAG,IAAI,CAAC;WAClB,MAAM,IAAI,OAAO,GAAG,IAAI,EAAE;AACzB,qBAAS,GAAG,OAAO,CAAC;WACrB,MAAM,IAAI,OAAO,GAAG,IAAI,IAAI,OAAO,GAAG,IAAI,EAAE;AAC3C,qBAAS,GAAG,MAAM,CAAC;WACpB,MAAM;AACL,qBAAS,GAAG,MAAM,CAAC;WACpB;AACD,eAAK,IAAI,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,KAAK,EAAE,CAAC,EAAE,EAAE;AAC9B,sBAAU,CAAC,CAAC,CAAC,GAAG,MAAM,CAAC;WACxB;AACD,eAAK,IAAI,CAAC,GAAG,KAAK,EAAE,CAAC,GAAG,IAAI,CAAC,UAAU,EAAE,CAAC,EAAE,EAAE;AAC5C,sBAAU,CAAC,CAAC,CAAC,GAAG,OAAO,CAAC;WACzB;AACD,oBAAU,CAAC,KAAK,CAAC,GAAG,SAAS,CAAC;SAC/B;AACD,eAAO,UAAU,CAAC;OACnB;;;WA1CG,UAAU;;;AA4ChB,SAAO,CACJ,MAAM,CAAC,iBAAiB,EAAE,EAAE,CAAC,CAC7B,SAAS,CAAC,UAAU,EAAE;AACrB,cAAU,EAAE,UAAU;AACtB,eAAW,EAAE,sCAAsC;AACnD,cAAU,EAAE;AACV,UAAI,EAAE,OAAO;AACb,UAAI,EAAE,OAAO;AACb,WAAK,EAAE,QAAQ;AACf,eAAO,QAAQ;KAChB;AACD,YAAQ,EAAE;AACR,kBAAY,EAAE,GAAG;AACjB,iBAAW,EAAE,GAAG;AAChB,gBAAU,EAAE,GAAG;AACf,UAAI,EAAE,GAAG;KACV;GACF,CAAC,CAAC;CACN,CAAA,EAAE,CAAE","file":"webcat/components/rating/rating.comp.js","sourcesContent":["(function () {\n  'use strict';\n  class Controller {\n    $onChanges(changes) {\n      this.wcMaxScore = 5;\n      if (\n        changes.wcTotalScore ||\n        changes.wcUserScore\n      ) {\n        this.$stars = this\n          .getStarsArray(\n            this.wcUserScore ||\n            this.wcTotalScore);\n      }\n    }\n    $then(index) {\n      this.then({\n        $data: index + 1\n      });\n    }\n    getStarsArray(score) {\n      let returnable = [];\n      if (angular.isNumber(score)) {\n        let floor = Math.floor(score),\n            decimal = score - floor,\n            remainder;\n        if (decimal === 0 && floor === this.wcMaxScore) {\n          remainder = null;\n        } else if (decimal < 0.25) {\n          remainder = 'empty';\n        } else if (decimal > 0.25 && decimal < 0.75) {\n          remainder = 'half';\n        } else {\n          remainder = 'full';\n        }\n        for (let i = 0; i < floor; i++) {\n          returnable[i] = 'full';\n        }\n        for (let j = floor; j < this.wcMaxScore; j++) {\n          returnable[j] = 'empty';\n        }\n        returnable[floor] = remainder;\n      }\n      return returnable;\n    }\n  }\n  angular\n    .module('webcat.wcRating', [])\n    .component('wcRating', {\n      controller: Controller,\n      templateUrl: 'webcat/components/rating/rating.html',\n      transclude: {\n        full: '?full',\n        half: '?half',\n        empty: '?empty',\n        catch: '?catch'\n      },\n      bindings: {\n        wcTotalScore: '<',\n        wcUserScore: '<',\n        wcMaxScore: '@',\n        then: '&'\n      }\n    });\n}());\n"],"sourceRoot":"/source/"}