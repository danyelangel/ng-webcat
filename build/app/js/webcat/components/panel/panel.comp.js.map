{"version":3,"sources":["webcat/components/panel/panel.comp.es6"],"names":[],"mappings":"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","file":"webcat/components/panel/panel.comp.js","sourcesContent":["(function () {\n  'use strict';\n  class Controller {\n    constructor($mdPanel, $document, $firedux) {\n      this.$mdPanel = $mdPanel;\n      this.$firedux = $firedux;\n      this.$document = $document;\n    }\n    $onInit() {\n      this.$firedux.$timeout(() => {\n        let position = this.getPosition(),\n            animation = this.getAnimation();\n        this.openPanel(position, animation);\n      }, 100);\n    }\n    parseAlign() {\n      let axes = (this.wcPanelAlign || '').split(' ');\n      return {\n        x: axes[0],\n        y: axes[1]\n      };\n    }\n    getPosition() {\n      let position = this.$mdPanel.newPanelPosition();\n      if (this.wcPanelTrigger) {\n        position = position.relativeTo(this.wcPanelTrigger);\n        position = this.getRelativeAlignment(position);\n      } else {\n        position = position.absolute();\n        position = this.getAbsoluteAlignment(position);\n      }\n      return position;\n    }\n    getAnimation() {\n      let animation = this.$mdPanel.newPanelAnimation();\n      animation = animation.openFrom(this.wcPanelTrigger || 'body');\n      if (this.wcPanelTrigger) {\n        switch (this.wcPanelAnimation) {\n          case 'scale':\n            animation = animation.withAnimation(this.$mdPanel.animation.SCALE);\n            break;\n          case 'fade':\n            animation = animation.withAnimation(this.$mdPanel.animation.FADE);\n            break;\n          case 'slide':\n            animation = animation.withAnimation(this.$mdPanel.animation.SLIDE);\n            break;\n          default:\n            break;\n        }\n      } else {\n        animation = animation.withAnimation(this.$mdPanel.animation.FADE);\n      }\n      if (\n        angular.isNumber(this.wcPanelDuration)\n      ) {\n        animation = animation.duration(this.wcPanelDuration);\n      } else {\n        animation = animation.duration(0);\n      }\n      animation = animation.closeTo(this.wcPanelTrigger || 'body');\n      return animation;\n    }\n    getRelativeAlignment(position) {\n      let xAlign = this.parseAlign().x,\n          xPosition,\n          yAlign = this.parseAlign().y,\n          yPosition,\n          returnable = position;\n      switch (xAlign) {\n        case 'before':\n          xPosition = this.$mdPanel.xPosition.OFFSET_START;\n          break;\n        case 'start':\n          xPosition = this.$mdPanel.xPosition.ALIGN_START;\n          break;\n        case 'center':\n          xPosition = this.$mdPanel.xPosition.CENTER;\n          break;\n        case 'end':\n          xPosition = this.$mdPanel.xPosition.ALIGN_END;\n          break;\n        case 'after':\n          xPosition = this.$mdPanel.xPosition.OFFSET_END;\n          break;\n        default:\n          xPosition = this.$mdPanel.xPosition.CENTER;\n          break;\n      }\n      switch (yAlign) {\n        case 'before':\n          yPosition = this.$mdPanel.yPosition.ABOVE;\n          break;\n        case 'start':\n          yPosition = this.$mdPanel.yPosition.ALIGN_TOPS;\n          break;\n        case 'center':\n          yPosition = this.$mdPanel.yPosition.CENTER;\n          break;\n        case 'end':\n          yPosition = this.$mdPanel.yPosition.ALIGN_BOTTOMS;\n          break;\n        case 'after':\n          yPosition = this.$mdPanel.yPosition.BELOW;\n          break;\n        default:\n          break;\n      }\n      returnable = returnable.addPanelPosition(xPosition, yPosition);\n      return returnable;\n    }\n    getAbsoluteAlignment(position) {\n      let xAlign = this.parseAlign().x,\n          yAlign = this.parseAlign().y,\n          returnable = position;\n      switch (xAlign) {\n        case 'start':\n          returnable = returnable.start();\n          break;\n        case 'center':\n          returnable = returnable.centerHorizontally();\n          break;\n        case 'end':\n          returnable = returnable.end();\n          break;\n        default:\n          returnable = returnable.centerHorizontally();\n          break;\n      }\n      switch (yAlign) {\n        case 'start':\n          returnable = returnable.top();\n          break;\n        case 'center':\n          returnable = returnable.centerVertically();\n          break;\n        case 'end':\n          returnable = returnable.bottom();\n          break;\n        default:\n          returnable = returnable.centerVertically();\n          break;\n      }\n      return returnable;\n    }\n    openPanel(position, animation) {\n      let panel = {\n        parent: angular.element(this.$document[0].body),\n        contentElement: '#webcatPanelTemplate',\n        propagateContainerEvents: !this.wcPanelBackdrop && !this.wcPanelModal,\n        clickOutsideToClose: this.wcPanelBackdrop ? !this.wcPanelModal : false,\n        escapeToClose: !this.wcPanelModal,\n        trapFocus: !!this.wcPanelModal,\n        hasBackdrop: !!this.wcPanelBackdrop,\n        disableParentScroll: !!this.wcPanelScroll,\n        position,\n        animation,\n        onDomAdded() {\n          this.$domAdded = true;\n          this.$firedux.$apply();\n        },\n        onCloseSuccess() {\n          this.$closed = true;\n          this.$firedux.$apply();\n          this.catch();\n        }\n      };\n\n      this.$firedux.$timeout(() => {\n        this.panel = this.$mdPanel\n          .create(panel);\n        this.panel\n          .open();\n      });\n    }\n    $onDestroy() {\n      if (this.panel && this.panel.hide) {\n        return this.panel.hide().then(() => {\n          return this.panel.destroy();\n        });\n      }\n    }\n  }\n  angular\n    .module('webcat.wcPanel', [])\n    .component('wcPanel', {\n      controller: Controller,\n      templateUrl: 'webcat/components/panel/panel.html',\n      transclude: {\n        wcPanelTemplate: '?wcPanelTemplate'\n      },\n      bindings: {\n        // Panel position\n        wcPanelTrigger: '@',\n        wcPanelAlign: '@',\n        // Panel animation\n        wcPanelAnimation: '@',\n        wcPanelDuration: '<',\n        // Panel properties\n        wcPanelModal: '<',\n        wcPanelBackdrop: '<',\n        // Events\n        catch: '&'\n      }\n    });\n}());\n"],"sourceRoot":"/source/"}