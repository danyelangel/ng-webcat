{"version":3,"sources":["webcat/components/text/text.comp.es6"],"names":[],"mappings":";;;;;;AAAA,AAAC,CAAA,YAAY;AACX,cAAY,CAAC;;MACP,UAAU;AACH,aADP,UAAU,CACF,QAAQ,EAAE,QAAQ,EAAE,OAAO,EAAE;;;4BADrC,UAAU;;AAEZ,UAAI,CAAC,QAAQ,GAAG,QAAQ,CAAC;AACzB,UAAI,CAAC,QAAQ,GAAG,QAAQ,CAAC;AACzB,UAAI,CAAC,CAAC,GAAG,OAAO,CAAC,CAAC,CAAC;AACnB,UAAI,CAAC,KAAK,GAAG,IAAI,CAAC,CAAC,CAAC,QAAQ,CAAC,UAAA,IAAI,EAAI;AACnC,cAAK,IAAI,CAAC,IAAI,CAAC,CAAC;OACjB,EAAE,IAAI,EAAE;AACP,eAAO,EAAE,IAAI;OACd,CAAC,CAAC;KACJ;;iBAVG,UAAU;;aAWJ,sBAAG;;;AACX,YAAI,IAAI,CAAC,MAAM,EAAE;AACf,iBAAO,CAAC,IAAI,CAAC,6BAA6B,CAAC,CAAC;SAC7C;AACD,YAAI,CAAC,IAAI,GAAG,KAAK,CAAC;AAClB,YAAI,CAAC,UAAU,GAAG,CAAC,CAAC,IAAI,CAAC,UAAU,CAAC;AACpC,YAAI,CAAC,QAAQ,GAAG;AACd,qBAAW,EAAE,IAAI;;;AAGjB,iBAAO,EAAE,IAAI,CAAC,UAAU,GAAG,KAAK,GAAG,IAAI,CAAC,YAAY,CAAC,IAAI,CAAC,UAAU,CAAC;;;AAGrE,wBAAc,EAAE,IAAI,CAAC,UAAU;SAChC,CAAC;AACF,YAAI,CAAC,QAAQ,CAAC,aAAa,GAAG,CAAC,CAAC,IAAI,CAAC,QAAQ,CAAC;AAC9C,YAAI,CAAC,QAAQ,CAAC,YAAM;AAClB,iBAAK,IAAI,GAAG,IAAI,CAAC;SAClB,CAAC,CAAC;OACJ;;;aACW,wBAAgB;YAAf,QAAQ,yDAAG,EAAE;;AACxB,YAAM,iBAAiB,GAAG;AACxB,WAAC,EAAE,MAAM;AACT,WAAC,EAAE,QAAQ;AACX,WAAC,EAAE,QAAQ;AACX,YAAE,EAAE,IAAI;AACR,YAAE,EAAE,IAAI;SACT,CAAC;AACF,YAAI,OAAO,GAAG,EAAE,CAAC;AACjB,eAAO,CAAC,OAAO,CAAC,iBAAiB,EAAE,UAAC,GAAG,EAAE,GAAG,EAAK;AAC/C,cAAI,QAAQ,CAAC,OAAO,CAAC,GAAG,CAAC,IAAI,CAAC,EAAE;AAC9B,mBAAO,CAAC,IAAI,CAAC,GAAG,CAAC,CAAC;WACnB;SACF,CAAC,CAAC;AACH,eAAO,OAAO,CAAC,MAAM,GAAG,CAAC,GAAG;AAC1B,iBAAO,EAAP,OAAO;SACR,GAAG,KAAK,CAAC;OACX;;;WAhDG,UAAU;;;AAkDhB,SAAO,CACJ,MAAM,CAAC,eAAe,EAAE,CACvB,uBAAuB,EACvB,YAAY,CACb,CAAC,CACD,SAAS,CAAC,QAAQ,EAAE;AACnB,cAAU,EAAE,UAAU;AACtB,eAAW,EAAE,kCAAkC;AAC/C,YAAQ,EAAE;AACR,YAAM,EAAE,GAAG;AACX,gBAAU,EAAE,GAAG;AACf,cAAQ,EAAE,GAAG;AACb,YAAM,EAAE,GAAG;AACX,mBAAa,EAAE,GAAG;AAClB,gBAAU,EAAE,GAAG;AACf,YAAM,EAAE,GAAG;AACX,UAAI,EAAE,GAAG;KACV;GACF,CAAC,CAAC;CACN,CAAA,EAAE,CAAE","file":"webcat/components/text/text.comp.js","sourcesContent":["(function () {\n  'use strict';\n  class Controller {\n    constructor($timeout, $element, $window) {\n      this.$element = $element;\n      this.$timeout = $timeout;\n      this._ = $window._;\n      this.$then = this._.throttle(data => {\n        this.then(data);\n      }, 1000, {\n        leading: true\n      });\n    }\n    $onChanges() {\n      if (this.wcRich) {\n        console.warn('wcRich is being deprecated!');\n      }\n      this.show = false;\n      this.wcDisabled = !!this.wcDisabled;\n      this.settings = {\n        targetBlank: true,\n\n        // Config\n        toolbar: this.wcDisabled ? false : this.buildButtons(this.wcControls),\n\n        // State\n        disableEditing: this.wcDisabled\n      };\n      this.settings.disableReturn = !!this.wcInline;\n      this.$timeout(() => {\n        this.show = true;\n      });\n    }\n    buildButtons(controls = '') {\n      const buttonDefinitions = {\n        b: 'bold',\n        i: 'italic',\n        a: 'anchor',\n        h2: 'h2',\n        h3: 'h3'\n      };\n      let buttons = [];\n      angular.forEach(buttonDefinitions, (def, key) => {\n        if (controls.indexOf(key) >= 0) {\n          buttons.push(def);\n        }\n      });\n      return buttons.length > 0 ? {\n        buttons\n      } : false;\n    }\n  }\n  angular\n    .module('webcat.wcText', [\n      'angular-medium-editor',\n      'ngSanitize'\n    ])\n    .component('wcText', {\n      controller: Controller,\n      templateUrl: 'webcat/components/text/text.html',\n      bindings: {\n        wcData: '<',\n        wcControls: '@',\n        wcInline: '<',\n        wcRich: '@',\n        wcPlaceholder: '@',\n        wcDisabled: '<',\n        wcHref: '@',\n        then: '&'\n      }\n    });\n}());\n"],"sourceRoot":"/source/"}