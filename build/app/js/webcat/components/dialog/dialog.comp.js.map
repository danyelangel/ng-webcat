{"version":3,"sources":["webcat/components/dialog/dialog.comp.es6"],"names":[],"mappings":"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","file":"webcat/components/dialog/dialog.comp.js","sourcesContent":["(function () {\n  'use strict';\n  class Controller {\n    constructor($mdDialog, $document, $firedux) {\n      this.$mdDialog = $mdDialog;\n      this.$firedux = $firedux;\n      this.$document = $document;\n      this.defaultLabels = {\n        ok: 'Ok',\n        cancel: 'Cancel'\n      };\n    }\n    $onInit() {\n      this.launchDialog();\n    }\n    $onChanges() {\n      this.setDialogBindings(this.wcDialogLabels);\n    }\n    setDialogBindings(labels = {}) {\n      this.dialogBindings = Object.assign(\n        this.defaultLabels,\n        labels, {\n          progress: this.wcDialogProgress,\n          component: this.wcDialogComponent,\n          login: this.wcDialogLogin\n        });\n    }\n    launchDialog() {\n      if (this.wcDialogAlert) {\n        this.openDialog({\n          type: 'alert',\n          bindings: this.dialogBindings\n        });\n      } else if (this.wcDialogConfirm) {\n        this.openDialog({\n          type: 'confirm',\n          bindings: this.dialogBindings\n        });\n      } else if (this.wcDialogPrompt) {\n        this.openDialog({\n          type: 'prompt',\n          bindings: this.dialogBindings\n        });\n      } else if (this.wcDialogProgress) {\n        this.openDialog({\n          type: 'progress',\n          bindings: this.dialogBindings\n        });\n      } else if (this.wcDialogLogin) {\n        this.openDialog({\n          type: 'login',\n          bindings: this.dialogBindings\n        });\n      } else if (this.wcDialogComponent) {\n        this.openDialog({\n          type: 'component',\n          bindings: this.dialogBindings\n        });\n      } else if (this.wcDialogTemplate) {\n        this.$template = true;\n        this.$firedux.$apply();\n        this.openDialog({\n          type: 'template'\n        });\n      }\n    }\n    openDialog(params = {}) {\n      let type = params.type,\n          bindings = params.bindings,\n          self = this,\n          dialog;\n\n      switch (type) {\n        case 'alert':\n          dialog = this.$mdDialog.alert({\n            title: bindings.title,\n            textContent: bindings.body,\n            ok: bindings.ok\n          });\n          break;\n        case 'confirm':\n          dialog = this.$mdDialog.confirm({\n            title: bindings.title,\n            textContent: bindings.body,\n            ok: bindings.ok,\n            cancel: bindings.cancel\n          });\n          break;\n        case 'prompt':\n          dialog = this.$mdDialog.prompt({\n            title: bindings.title,\n            textContent: bindings.body,\n            ok: bindings.ok,\n            cancel: bindings.cancel\n          });\n          break;\n        case 'template':\n          dialog = {\n            parent: angular.element(this.$document[0].body),\n            contentElement: '#webcatDialogTemplate',\n            fullscreen: angular.isDefined(this.wcDialogFullscreen) ? this.wcDialogFullscreen : true,\n            clickOutsideToClose: angular.isDefined(this.wcDialogModal) ? !this.wcDialogModal : false,\n            escapeToClose: angular.isDefined(this.wcDialogModal) ? !this.wcDialogModal : false\n          };\n          break;\n        default:\n          dialog = this.getTemplate(type, bindings.component);\n          dialog = {\n            template: dialog,\n            controller: function () {\n              this.$bindings = bindings;\n              this.$bindings.then = payload => {\n                self.$mdDialog.hide(payload);\n              };\n              this.$bindings.catch = () => {\n                self.$mdDialog.cancel();\n              };\n            },\n            controllerAs: '$ctrl'\n          };\n          break;\n      }\n      this.$firedux.$timeout(() => {\n        this.$mdDialog\n          .show(dialog)\n          .then($data => {\n            this.$ready = true;\n            this.then({\n              $data: $data\n            });\n            this.$firedux.$apply();\n            this.$after = true;\n            this.after();\n          }, $error => {\n            this.$error = true;\n            this.catch({\n              $error: $error\n            });\n            this.$firedux.$apply();\n            this.$after = true;\n            this.after();\n          });\n      });\n    }\n    getTemplate(type, component) {\n      switch (type) {\n        case 'progress':\n          return '<wc-dialog-progress bindings=\"$ctrl.$bindings\"></wc-dialog-progress>';\n        case 'login':\n          return '<wc-dialog-login bindings=\"$ctrl.$bindings\"></wc-dialog-login>';\n        case 'component':\n          if (angular.isString(component)) {\n            return `<${component} bindings=\"$ctrl.$bindings\"></${component}>`;\n          }\n          break;\n        default:\n          break;\n      }\n    }\n    $onDestroy() {\n      this.$mdDialog.cancel();\n    }\n  }\n  angular\n    .module('webcat.wcDialog', [\n      'webcat.wcDialog.login',\n      'webcat.wcDialog.progress'\n    ])\n    .component('wcDialog', {\n      controller: Controller,\n      templateUrl: 'webcat/components/dialog/dialog.html',\n      transclude: {\n        wcDialogTemplate: '?wcDialogTemplate',\n        then: '?then',\n        catch: '?catch',\n        after: '?after'\n      },\n      bindings: {\n        // Dialog types\n        wcDialogAlert: '@',\n        wcDialogConfirm: '@',\n        wcDialogProgress: '@',\n        wcDialogPrompt: '@',\n        wcDialogLogin: '@',\n        wcDialogComponent: '@',\n        wcDialogTemplate: '@',\n        // Dialog properties\n        wcDialogLabels: '<',\n        wcDialogFullscreen: '<',\n        wcDialogModal: '<',\n        // Callbacks\n        then: '&',\n        catch: '&',\n        after: '&'\n      }\n    });\n}());\n"],"sourceRoot":"/source/"}